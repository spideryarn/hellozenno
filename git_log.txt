COMMIT: 948480c
DATE:2025-04-27 02:40:03
MESSAGE:
Fix DataGrid sourcefile count display by aliasing count aggregate and handling PostgREST array response format
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 75c2623
DATE:2025-04-27 02:33:27
MESSAGE:
Add changelog links throughout the application
- Added changelog link to README.md in Getting Started section
- Added changelog link in FAQ under the reporting bugs section
- Added changelog link in About page contribute section
- Added changelog link button at the end of the timeline in About page


COMMIT: 8f28671
DATE:2025-04-27 02:25:55
MESSAGE:
Update changelog page with GitHub issue button and improved commit display
- Added GithubIssueButton component at the top of the page
- Modified commit links to show only first 6 chars while keeping full SHA in tooltip
- Added missing date to the Terms entry
- Added changelog link to the footer


COMMIT: 05fc099
DATE:2025-04-27 02:06:22
MESSAGE:
Fix profile page URL error by using correct profile API route name
Fixed the TypeError in the profile page by updating the route name from
PROFILE_API_GET_PROFILE_API to PROFILE_API_GET_CURRENT_PROFILE_API, which
matches the actual backend API endpoint /api/profile/current.


COMMIT: f3e6773
DATE:2025-04-27 01:41:43
MESSAGE:
Improve DataGrid with loading spinner on initial load
- Add loading spinner to DataGrid for initial data load state
- Replace "No data" with spinner when server data is loading
- Update sources and wordforms pages to use the new functionality
- Make spinner the default behavior so all pages benefit


COMMIT: f906f88
DATE:2025-04-27 01:30:07
MESSAGE:
Improve DataGrid for sourcedirs page
- Add loading spinner to prevent "No data" flash
- Set default sort to modified date descending
- Rename "Files" column to "# Sources" for clarity
- Add custom SQL query with JOIN to count sourcefiles
- Handle both API and direct database data formats
- Use row.description as tooltip (already implemented)


COMMIT: 9107a85
DATE:2025-04-27 01:23:30
MESSAGE:
Show the default sort with an arrow in the column
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 3bbe8a8
DATE:2025-04-27 01:17:43
MESSAGE:
Implement DataGrid for sourcedirs page
- Fix column name (created_by_id instead of created_by)
- Remove user email lookup to simplify implementation
- Add transformation for API data to match database fields
- Include null checking for sources array to prevent errors
- Fix file count display by using statistics.file_count safely


COMMIT: 86f1f7e
DATE:2025-04-27 01:14:40
MESSAGE:
Terms and privacy policies
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 50f3a1a
DATE:2025-04-27 00:51:11
MESSAGE:
Added default sort to lemmas and phrases
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 5c31498
DATE:2025-04-27 00:40:33
MESSAGE:
Add default sort options to DataGrid component
This commit adds two new props to DataGrid:
- defaultSortField: to specify which column to sort by initially
- defaultSortDir: to specify the initial sort direction (asc/desc)

Updated documentation with examples of how to use the new feature.
Implemented in sentences page to sort by most recently updated.


COMMIT: 9ae1da3
DATE:2025-04-27 00:39:31
MESSAGE:
Update sentences list page to use DataGrid with descending date sort
- Convert sentences list to use DataGrid component
- Configure default sort to show newest sentences first (updated_at desc)
- Add columns for sentence, translation, language level, and modified date
- Match styling with other DataGrid implementations


COMMIT: e732ffd
DATE:2025-04-27 00:33:09
MESSAGE:
Update Phrases list page to use DataGrid component
- Implement DataGrid for the phrases page
- Add columns for phrase, translations, part of speech, level, and modified date
- Include hover tooltips that display usage notes
- Display language difficulty level in a column


COMMIT: 2149d29
DATE:2025-04-27 00:25:34
MESSAGE:
Add tooltip support to DataGrid component and implement etymology tooltips on Lemmas page

COMMIT: b2d7200
DATE:2025-04-27 00:21:50
MESSAGE:
Fix user email lookup to use AuthUser model instead of Profile
- Update Profile.get_or_create_for_user to not require email parameter
- Modify auth_utils to no longer pass email when creating Profile
- Update profile_api to use direct AuthUser lookup with clear error handling
- Remove fallbacks to ensure issues are surfaced and fixed properly


COMMIT: 2065556
DATE:2025-04-26 23:39:12
MESSAGE:
Implement DataGrid for lemmas page
- Replace alphabetical list with DataGrid component
- Add server-side pagination and sorting
- Configure columns: lemma, translations, part_of_speech, language_level, is_complete, commonality, updated_at
- Comment out letter navigation for potential future reuse
- Create planning document for DataGrid implementation on other list pages


COMMIT: a94d57c
DATE:2025-04-26 23:07:16
MESSAGE:
Improve user profile page layout
- Add Card component for consistent styling
- Enhance with Phosphor icons for better visual hierarchy
- Use Bootstrap grid for responsive layout
- Add help text for the language selection dropdown
- Improve form styling and button placement
- Add loading spinner component
- Implement Alert component for messages


COMMIT: 673f8d6
DATE:2025-04-26 23:02:53
MESSAGE:
Update CLAUDE.md with Python type hint guidance and expanded logging examples

COMMIT: 4f6474d
DATE:2025-04-26 22:57:35
MESSAGE:
Sitemap

COMMIT: 3bcb67c
DATE:2025-04-26 22:27:09
MESSAGE:
Add reusable DropdownButton component with tooltip and click-outside behavior
- Created new DropdownButton.svelte component for consistent dropdown menus
- Added user email tooltip to Profile button
- Implemented click-outside behavior to close dropdowns
- Updated STYLING.md documentation with usage examples
- Replaced custom dropdown implementation in layout with new component
- Added support for Phosphor icons in dropdown buttons


COMMIT: c1484ae
DATE:2025-04-26 22:06:40
MESSAGE:
Add language-specific back button to profile page
- Add back navigation button to the user profile page
- Show "Back to languages" when no language is saved or selected
- Show "Back to [LANGUAGE_NAME]" when a language is saved and selected
- Hide button when selected language differs from saved language
- Use lavender background with dark text for consistent styling


COMMIT: b82a037
DATE:2025-04-26 21:33:50
MESSAGE:
Improve sitemap generation system
- Refactor sitemap generator to use sitemap-generated- prefix for all dynamic sitemaps
- Reorganize sitemaps into /sitemaps/ subdirectory for better organization
- Consolidate scripts to avoid duplication (local and production versions)
- Move print_header function to common.sh for reuse
- Update SITEMAP.md documentation to reflect new structure
- Update .gitignore to exclude generated sitemap files


COMMIT: 57e1446
DATE:2025-04-26 20:55:40
MESSAGE:
Refactor sitemap generator to use Jinja templates
- Add Jinja templates for XML sitemap generation
- Create reusable templates for URL entries
- Implement Jinja rendering for all sitemap types
- Apply DRY principles to reduce code duplication
- Improve maintainability by separating XML structure from logic


COMMIT: 3852978
DATE:2025-04-26 20:44:43
MESSAGE:
Add sitemap generator
- Create sitemap_generator.py utility to generate XML sitemaps
- Generate sitemaps for phrases, lemmas, and sentences
- Organize by language and paginate for large datasets
- Update robots.txt to reference sitemap.xml
- Create static sitemap for fixed pages
- Add sitemap generation to deployment process


COMMIT: b30618d
DATE:2025-04-26 19:58:26
MESSAGE:
Add text-on-light class for dark text on lavender background
- Added new .text-on-light CSS class for consistent dark text styling on light backgrounds
- Updated profile button and row count badges to use text-on-light class
- Updated STYLING.md documentation with usage guidelines for lavender backgrounds
- Fixed styling of part-of-speech badge on phrase pages


COMMIT: 04632bd
DATE:2025-04-26 19:42:20
MESSAGE:
Migrations for adding various fields, including created_by
migrations seemed to run successfully, pages work

COMMIT: 5fa4828
DATE:2025-04-26 10:56:18
MESSAGE:
DataGrid header less obtrusive

COMMIT: 56e931b
DATE:2025-04-26 04:08:41
MESSAGE:
Gave up on DataGrid filtering for now
we have a plan from o3 in 250426... to set up a `translations_flat` field, but I don't want to deal with it now

just decided to hide them

COMMIT: 51c7117
DATE:2025-04-26 03:42:04
MESSAGE:
Google Analytics tag

COMMIT: 5768adc
DATE:2025-04-26 03:34:17
MESSAGE:
Add row count display to DataGrid component
- Shows total records in the grid
- Updates to show filtered count when filters are applied
- Styled as a badge with primary green background
- Positioned properly with flex layout


COMMIT: c9dbd72
DATE:2025-04-26 02:51:31
MESSAGE:
Added modified column to Wordforms list

COMMIT: c49a7d1
DATE:2025-04-26 02:49:59
MESSAGE:
Slight improvement to processing
see planning doc

some refactoring

It continues past transcribing and translating

but I'm still not convinced that it will extract the wordforms more than once!

COMMIT: e7d8476
DATE:2025-04-26 02:06:01
MESSAGE:
DataGrid styling

COMMIT: afeada3
DATE:2025-04-26 01:42:06
MESSAGE:
Styling for Wordform column

COMMIT: f70e735
DATE:2025-04-26 01:33:26
MESSAGE:
Changed wordforms columns

COMMIT: 7e0a4c8
DATE:2025-04-26 01:24:50
MESSAGE:
Tried to add Supabase-js type generation (not sure if it's working)
it's running as part of run_frontend.sh
And it generates database.types.ts

but test-supabase-types.ts didn't show any red squiggly lines (I didn't commit this file)

COMMIT: 909127c
DATE:2025-04-26 01:09:28
MESSAGE:
Added queryModifier prop to DataGrid

COMMIT: 570d822
DATE:2025-04-26 00:56:51
MESSAGE:
Fixed DataGrid row clicks to use proper hrefs

COMMIT: a69d135
DATE:2025-04-26 00:18:25
MESSAGE:
Removed deprecations verbosity from run_frontend.sh

COMMIT: e2ab962
DATE:2025-04-26 00:18:09
MESSAGE:
Add interactive page input to DataGrid navigation
- Replace static page display with an editable input field
- Allow users to jump to any page by entering a number and pressing Enter
- Use DOM focus detection to prevent input hijacking while editing
- Add input validation with visual error feedback
- Utilize Svelte's tick to ensure proper synchronization


COMMIT: d6f4560
DATE:2025-04-25 19:51:03
MESSAGE:
Add navigation buttons to top of DataGrid
- Create DataGridNavButtons component to abstract pagination controls
- Add navigation buttons at both top and bottom of DataGrid
- Only show navigation when pagination is required (multiple pages)
- Rename NavButtons to SourcefileNavButtons for clarity
- Update LoadingSpinner to support different sizes via runes syntax


COMMIT: a5fcbd6
DATE:2025-04-25 19:41:34
MESSAGE:
Search result prepopulated with search term

COMMIT: 99937a4
DATE:2025-04-25 19:22:28
MESSAGE:
Ignore existing phrases

COMMIT: 4173de2
DATE:2025-04-25 19:16:50
MESSAGE:
Search paste button automatically triggers a search

COMMIT: 8d7a438
DATE:2025-04-25 19:13:04
MESSAGE:
Filter Wordforms list by target language

COMMIT: 006c56e
DATE:2025-04-25 19:12:52
MESSAGE:
Added Croatian

COMMIT: 026b8d8
DATE:2025-04-25 04:06:11
MESSAGE:
Fix the issue with the profile target language drop-down when the page is very wide

COMMIT: 9e80817
DATE:2025-04-25 04:02:46
MESSAGE:
If you're already logged in, then /auth redirects you

COMMIT: fb9deec
DATE:2025-04-25 03:55:59
MESSAGE:
Automatically slow down if you keep replaying the audio of a flash card

COMMIT: 1a61f49
DATE:2025-04-25 03:38:04
MESSAGE:
Easier to edit description

COMMIT: 074770b
DATE:2025-04-25 03:32:02
MESSAGE:
New AudioPlayer component

COMMIT: ce23fdd
DATE:2025-04-25 03:30:42
MESSAGE:
Tidied flashcard sentence & keyboard shortcuts display

COMMIT: 56a92bd
DATE:2025-04-25 03:11:15
MESSAGE:
Tweaks to flashcard display & links

COMMIT: 2d1e791
DATE:2025-04-25 03:10:11
MESSAGE:
Reduce overlap between STYLING.md and USER_EXPERIENCE.md

COMMIT: 582e02d
DATE:2025-04-25 03:09:37
MESSAGE:
Fixed issue with audio upload

COMMIT: b25f91e
DATE:2025-04-25 02:57:15
MESSAGE:
Improved layout for long Sourcefile titles

COMMIT: a000f44
DATE:2025-04-25 02:35:15
MESSAGE:
Hiding button in flashcard if no next stage

COMMIT: ce23214
DATE:2025-04-25 02:34:58
MESSAGE:
Minor header layout tweak

COMMIT: 663a2fa
DATE:2025-04-25 02:28:41
MESSAGE:
Tweaked footer

COMMIT: f903151
DATE:2025-04-25 02:28:32
MESSAGE:
More flashcard display tidying

COMMIT: 8a09301
DATE:2025-04-25 02:11:42
MESSAGE:
Tidied up Flashcards display

COMMIT: 2dcd3ec
DATE:2025-04-25 01:11:17
MESSAGE:
0.85x -> 0.9x audio playback speed

COMMIT: 42b09ab
DATE:2025-04-25 01:10:22
MESSAGE:
Fixed Sourcedir rename

COMMIT: bf0a2f9
DATE:2025-04-25 01:05:31
MESSAGE:
Improved GitHub logo

COMMIT: 4a5e7ed
DATE:2025-04-25 01:01:36
MESSAGE:
Supabase confirm-signup email template

COMMIT: e95f359
DATE:2025-04-25 01:01:23
MESSAGE:
Replaced contact buttons, and using global contact variables

COMMIT: ee0cb5e
DATE:2025-04-25 00:46:59
MESSAGE:
Moved marketing images around

COMMIT: 5e6827b
DATE:2025-04-25 00:18:46
MESSAGE:
Updated language list and added config contact variables

COMMIT: bc26b5d
DATE:2025-04-24 23:44:58
MESSAGE:
Update confirm_signup.html

COMMIT: 3c05fe8
DATE:2025-04-24 23:24:52
MESSAGE:
Moved logo

COMMIT: 2a34a36
DATE:2025-04-24 23:20:13
MESSAGE:
Removed package.json etc from root
and package-lock.json and node_modules

COMMIT: 0942f81
DATE:2025-04-24 23:19:27
MESSAGE:
Created CLAUDE.mdc rule
in place of coding-principles.mdc

COMMIT: a7c04ec
DATE:2025-04-23 22:43:44
MESSAGE:
Wordforms DataGrid UI components mostly work
but you can't unset the filter

COMMIT: ee62353
DATE:2025-04-23 22:37:47
MESSAGE:
Wordform page displays, but UI components don't work

COMMIT: 20eda8c
DATE:2025-04-23 21:42:49
MESSAGE:
Added node --trace-deprecation

COMMIT: de0c837
DATE:2025-04-23 21:40:38
MESSAGE:
Using auto-generated language name, fixed duplicate SearchBarMini

COMMIT: d369eb2
DATE:2025-04-23 21:15:32
MESSAGE:
Slightly fainter background

COMMIT: 3a30bc8
DATE:2025-04-23 20:41:52
MESSAGE:
feat(DataGrid): add provider abstraction, pagination, sorting, filtering, loading spinner; update planning checklist

COMMIT: bdfc635
DATE:2025-04-23 20:40:34
MESSAGE:
fix(ui): adjust dropcap letters to fit inside language cards

COMMIT: 5f7745f
DATE:2025-04-23 20:22:41
MESSAGE:
Create hz-class-replacements.sh

COMMIT: c65a51c
DATE:2025-04-23 20:02:32
MESSAGE:
fix(frontend): update button colors to use theme variables
Replaced hardcoded #4CAD53 green with --hz-color-primary-green in NavButtons and SourcefileHeader components to maintain consistent brand styling.


COMMIT: eb3a968
DATE:2025-04-23 19:44:21
MESSAGE:
feat(ui): switch secondary color from peach to lavender
Update CSS variables and styling to use lavender as the secondary color throughout the application instead of peach, affecting buttons and card headers.


COMMIT: 3a7e886
DATE:2025-04-23 19:33:48
MESSAGE:
Sourcedir DataGrid v1 working but ugly, with Flask API

COMMIT: e54a142
DATE:2025-04-23 18:34:34
MESSAGE:
feat: auto-generate language data TypeScript file to eliminate API calls
- Created language data generator to produce TypeScript with hardcoded language data
- Added Flask CLI commands to generate language data TypeScript file
- Created frontend utilities to use generated data instead of API calls
- Updated frontend components to use the new utilities
- Maintained backward compatibility with API fallbacks
- Improved performance by eliminating unnecessary network requests


COMMIT: a643374
DATE:2025-04-23 18:18:02
MESSAGE:
refactor(frontend): rename languages page query param from next to section
Better distinguishes from /auth?next= which takes a URL, while section is more descriptive
for a section of functionality within a language's pages.

COMMIT: 4d08766
DATE:2025-04-23 18:04:30
MESSAGE:
feat(frontend): add next query parameter to languages page
- Implement next parameter for language selection page
- Redirect users to specific features after language selection
- Add Try Flashcards overlay on homepage flashcard image
- Add documentation explaining the feature and usage


COMMIT: a04c864
DATE:2025-04-23 17:13:12
MESSAGE:
Fixed minor SourcedirGrid import error

COMMIT: 72e725e
DATE:2025-04-23 17:01:14
MESSAGE:
chore(frontend): improve Lightbox UX
Portal modal to document.body to avoid flicker caused by ancestor transforms

Add subtle primary‑green outline on hover for clickable thumbnails

Remove transform on homepage feature cards that interfered with fixed positioning

COMMIT: 66b3ea4
DATE:2025-04-23 16:40:51
MESSAGE:
Remove Markdown processing from blog post
- Remove markdown content from page.server.ts
- Remove marked library and Markdown processing from page.svelte
- Remove marked dependency from package.json
- Use hardcoded HTML for blog post content
- Replace dynamic TOC extraction with static TOC items


COMMIT: c21576b
DATE:2025-04-23 16:30:19
MESSAGE:
Create reusable TableOfContents component for FAQ and blog posts
This commit extracts the table of contents functionality into a reusable component that can support both category-based TOCs (for FAQ) and flat item TOCs (for blog posts).

- Created new TableOfContents.svelte component that accepts either categories or items
- Updated FAQ page to use the new component
- Updated blog post page to use the new component
- Added component export in index.ts

COMMIT: 8134eb3
DATE:2025-04-23 16:23:36
MESSAGE:
Fix error component import path in language error component
This resolves the failed import from '../../../+error.svelte' by using an absolute path to the root error component.


COMMIT: 148f6f5
DATE:2025-04-23 16:17:08
MESSAGE:
Added link to blog post image

COMMIT: daa7a7a
DATE:2025-04-23 16:15:05
MESSAGE:
Tweaked error page button ordering

COMMIT: 2e80422
DATE:2025-04-23 16:13:43
MESSAGE:
Add SVAR DataGrid implementation documentation
- Create detailed planning document for SVAR DataGrid integration
- Document implementation challenges with Svelte 5 compatibility
- Include code examples for component structure and server-side integration
- Update action items with current progress
- Document next steps for further development


COMMIT: 26dd4d9
DATE:2025-04-23 15:54:42
MESSAGE:
Centralize error handling and update error page styling
- Consolidate error pages for consistent UI experience across the app
- Add multilingual apology component to all error pages
- Update language-specific error page to reuse root error component
- Change button color to match official style guide (btn-primary)


COMMIT: b1d31f5
DATE:2025-04-23 15:36:37
MESSAGE:
Improved apology - links to search

COMMIT: f024fbb
DATE:2025-04-23 15:22:48
MESSAGE:
Tweak homepage copy

COMMIT: 3e12a31
DATE:2025-04-23 15:22:23
MESSAGE:
Error page

COMMIT: 8285dab
DATE:2025-04-23 15:19:41
MESSAGE:
Smaller images

COMMIT: 3c309d5
DATE:2025-04-23 13:28:21
MESSAGE:
Create GIT-COMMIT-GROUPED.md

COMMIT: e9f84db
DATE:2025-04-23 13:28:08
MESSAGE:
Add marked markdown package and blog route structure

COMMIT: d98ddc1
DATE:2025-04-23 13:25:11
MESSAGE:
Improve blog UI with enhanced styling and UX
- Convert 'Back to all posts' to styled pill button
- Enhance date & author display with frosted glass effect
- Improve CTA box with gradient border and better spacing
- Use proper Phosphor icon imports for better compatibility
- Apply consistent styling across blog pages


COMMIT: 95312e9
DATE:2025-04-23 12:56:54
MESSAGE:
Fix svelte-lightbox dependency issue with Svelte 5
- Add --legacy-peer-deps flag to build script
- Document dependency management in DEVOPS.md


COMMIT: e852581
DATE:2025-04-23 12:53:43
MESSAGE:
Updated FAQ

COMMIT: de685c7
DATE:2025-04-23 12:53:30
MESSAGE:
Standardize colors in Sourcedir UI
- Replace hardcoded colors with theme variables
- Create consistent button styling with proper hover states
- Add semantic badge classes for words, phrases, audio
- Add hover effects to list items
- Replace custom button class with standardized btn-action class
- Document additional UI improvement ideas in planning doc


COMMIT: 787ae2f
DATE:2025-04-23 12:36:24
MESSAGE:
Apply NebulaBackground to entire site via root layout
- Add NebulaBackground to root layout for consistent site-wide application
- Remove redundant NebulaBackground from about page
- Ensure header and footer are properly layered with z-index


COMMIT: d88ea4b
DATE:2025-04-23 12:30:52
MESSAGE:
NebulaBackground works for a few pages
about to make a big update so it'll appear on all pages

COMMIT: 25e0ed0
DATE:2025-04-23 12:29:48
MESSAGE:
Update CLAUDE.md with comprehensive project documentation
- Add clear application purpose description
- Create visual architecture diagram
- Add authentication details and environment setup
- Improve database and migrations documentation
- Add frontend development sections with code examples
- Document enhanced text, search and sourcefile features
- Include development modes and additional commands
- Reorganize with numbered sections for better navigation

COMMIT: e256a1b
DATE:2025-04-23 12:19:53
MESSAGE:
Enhance FAQ page with categorized questions and expand content
- Reorganize FAQ into 6 logical categories for better organization
- Expand from 8 to 30 questions with detailed answers based on marketing notes
- Amalgamate audio flashcard questions into a comprehensive explanation
- Update terminology from 'texts' to 'source materials/files' to reflect multi-media nature
- Consistently hyphenate 'centaur-sourcing' throughout
- Improve styling with category headers and enhanced TOC
- Add visual separators between categories


COMMIT: b53aece
DATE:2025-04-23 12:13:44
MESSAGE:
Updated phosphor-svelte imports

COMMIT: 101ca97
DATE:2025-04-23 12:06:27
MESSAGE:
Redesign FAQ page with table of contents and anchor links
- Remove accordion expanding boxes in favor of always-visible content
- Add table of contents with links to each question
- Create descriptive anchors and heading links for direct navigation
- Add back-to-top buttons for better navigation
- Improve styling with color-coded question headings
- Optimize spacing between questions and answers


COMMIT: fffe94c
DATE:2025-04-23 10:59:28
MESSAGE:
Fix navigation URLs and use dynamic content
- Update SourceItem component to use variable sourceUrl instead of hardcoded path
- Change homepage link in site layout from '/languages' to '/'
- Use dynamic TAGLINE variable in footer instead of hardcoded text


COMMIT: 68a8ef0
DATE:2025-04-23 10:59:19
MESSAGE:
Add playback rate control to SourcefileAudio component
- Add variable binding for the audio element
- Add currentPlaybackRate state
- Add setPlaybackRate function for controlling playback speed


COMMIT: 719d857
DATE:2025-04-23 10:59:10
MESSAGE:
Fix TypeScript errors in EnhancedText component
- Properly type error variables as 'unknown'
- Add type guards for error handling
- Replace || with nullish coalescing operator for data-lemma attribute


COMMIT: 748dda9
DATE:2025-04-23 10:56:39
MESSAGE:
Fix unused CSS selectors in homepage and improve flashcard image accessibility
- Remove unused flashcard-screenshot-wrapper CSS selectors
- Remove redundant href attribute from LightboxImage
- Add detailed alt text to flashcard image for better accessibility


COMMIT: ea6c53d
DATE:2025-04-23 10:46:30
MESSAGE:
Add LightboxImage component with svelte-lightbox for screenshots
• Created a reusable LightboxImage component that uses svelte-lightbox
• Applied to screenshots on homepage
• Updated documentation in STYLING.md
• Added usage example for future implementation


COMMIT: d795fcb
DATE:2025-04-23 04:43:09
MESSAGE:
Add consistent page titles across the site
- Update STYLING.md with guidelines for page title formatting
- Add proper title structure to homepage, about and FAQ pages
- Use SITE_NAME and TAGLINE constants from config.ts
- Add meta descriptions for SEO


COMMIT: d58b5d6
DATE:2025-04-23 04:35:07
MESSAGE:
Fix search results component and styling
- Fix SearchResults component to use proper Phosphor icon imports
- Standardize variable naming between search pages (searchResults → result)
- Add missing CSS classes for card headers in theme.css
- Update card headers to use the themed classes instead of Bootstrap classes
- Fix imports for page stores in [wordform] search page


COMMIT: fe14818
DATE:2025-04-23 04:06:01
MESSAGE:
About and FAQ backgrounds look ok
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: aa66cae
DATE:2025-04-23 03:48:40
MESSAGE:
Updating colours
as per 250423 planning doc

Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 0773604
DATE:2025-04-23 03:28:36
MESSAGE:
Update UI components with consistent color styling
- Update SearchResults component to use brand color variables for better theming
- Update Sentence component to use more consistent button styles
- Add hover effects to SentenceCard and SourceItem components
- Fix SourcedirHeader border styling using theme variables
- Add playback rate buttons to SourcefileAudio component
- Update planning document with component styling progress


COMMIT: e879dcd
DATE:2025-04-23 03:27:13
MESSAGE:
Fix Memrise link rendering in FAQ page
- Update FAQ page to use {@html} directive for answers to correctly render HTML links
- The Memrise link in the 'Is this a complete language course?' section now displays properly


COMMIT: bdf40b8
DATE:2025-04-23 03:23:53
MESSAGE:
Add FAQ page and update About page with external links
- Create new FAQ page with responsive accordion-style Q&A
- Add links to Memrise.com on both About and FAQ pages
- Add link to Greg's startups page in About section
- Update inline SVG icon usage in About page


COMMIT: 8a91011
DATE:2025-04-23 03:08:50
MESSAGE:
Refactor(theme): Update components for new color palette (Part 1)

COMMIT: 963ccb0
DATE:2025-04-23 03:02:40
MESSAGE:
More marketing and copy prep

COMMIT: 89d089f
DATE:2025-04-23 02:41:31
MESSAGE:
Add timestamp fields to Sourcedir API
- Added created_at and updated_at timestamp fields to the Sourcedir API responses
- Fixed metadata section in SourcedirHeader showing 'undefined' for timestamps
- Ensured both API endpoints (list and detail) include timestamp data
- Updated sourcedir_utils to include timestamps in sourcedir dictionaries


COMMIT: e08de1e
DATE:2025-04-23 02:34:57
MESSAGE:
Update homepage with clickable marketing images
- Made all marketing images link to the languages page
- Added subtle hover effects to indicate clickable images
- Improved user journey with clear visual call-to-actions
- Maintained existing animation effects and styling


COMMIT: ceac5ed
DATE:2025-04-23 02:23:58
MESSAGE:
Homepage & image updates

COMMIT: 82513af
DATE:2025-04-23 02:09:28
MESSAGE:
Sourcedir using same buttons as Sourcefile

COMMIT: 24446c7
DATE:2025-04-23 02:09:16
MESSAGE:
More homepage images

COMMIT: be0dea1
DATE:2025-04-23 01:49:03
MESSAGE:
New homepage

COMMIT: 100fe33
DATE:2025-04-23 01:48:45
MESSAGE:
Updated Sourcedir v1

COMMIT: 473d1f7
DATE:2025-04-23 01:34:00
MESSAGE:
Marketing materials

COMMIT: 4d3244f
DATE:2025-04-23 01:33:35
MESSAGE:
Changelog

COMMIT: 1ad5ded
DATE:2025-04-22 23:58:35
MESSAGE:
Improved Flashcards page display

COMMIT: 3cecd20
DATE:2025-04-22 23:24:10
MESSAGE:
Updating the env variables strip for secret variables

COMMIT: 814306c
DATE:2025-04-22 23:23:32
MESSAGE:
Updating CLAUDE.md

COMMIT: e15fb98
DATE:2025-04-22 23:19:32
MESSAGE:
Strip whitespace for all the environment variables
we're getting an Eleven Labs issue with this now. I cannot figure out why all the environment variables are suddenly having this problem!

COMMIT: cde6728
DATE:2025-04-22 12:37:52
MESSAGE:
Renamed Supabase_local MCP

COMMIT: 48058d0
DATE:2025-04-22 12:37:45
MESSAGE:
Fixed Flashcard ignore double-encoding

COMMIT: 0357d4b
DATE:2025-04-22 12:28:39
MESSAGE:
Added trim to apiFetch
to try and fix issues with Flashcards random

COMMIT: 64d3295
DATE:2025-04-22 10:53:34
MESSAGE:
Fixed Flashcards auth issue

COMMIT: 29a55f6
DATE:2025-04-22 01:17:31
MESSAGE:
Styling autofocus

COMMIT: 509bd51
DATE:2025-04-22 01:17:16
MESSAGE:
Using SearchBarMini for search page after all
seems to work ok

COMMIT: bc5d2d9
DATE:2025-04-22 01:00:41
MESSAGE:
Ignore lemmas in Flashcards

COMMIT: 2823699
DATE:2025-04-22 00:27:27
MESSAGE:
Fixed migrate scripts

COMMIT: 4657b02
DATE:2025-04-22 00:14:46
MESSAGE:
Trying to improve main search UI
but I think the core navigation is still a bit broken

COMMIT: d552559
DATE:2025-04-21 23:25:36
MESSAGE:
Improved UI for both kinds of search bar

COMMIT: 80ea86c
DATE:2025-04-21 23:15:37
MESSAGE:
Improved SearchBarMini UI

COMMIT: 4ca87d3
DATE:2025-04-21 22:56:03
MESSAGE:
Fixed SourcefilePhrases

COMMIT: 8691122
DATE:2025-04-21 22:34:03
MESSAGE:
Removed verbose logging

COMMIT: f6300ae
DATE:2025-04-21 22:21:28
MESSAGE:
Tidying unused export let

COMMIT: d9ad1d2
DATE:2025-04-21 22:16:27
MESSAGE:
Fixing unused CSS selectors

COMMIT: 293ac29
DATE:2025-04-21 22:04:54
MESSAGE:
Removed progress bar expanding details
and updated the collapsed message to be more informative

COMMIT: 58d4cf7
DATE:2025-04-21 22:04:37
MESSAGE:
Tidying frontend log warnings

COMMIT: e774da4
DATE:2025-04-21 21:50:40
MESSAGE:
Refactor(svelte): Update on:event syntax in sourcedir page

COMMIT: ab5dbae
DATE:2025-04-21 21:47:10
MESSAGE:
feat(search): Improve 401 error message for unauthenticated search
- Replace generic error message with a friendly 'Login Required' card
- Add direct 'Log in to Search' button with next URL parameter
- Change card styling from danger to info for 401 errors
- Add better explanation about why authentication is required


COMMIT: 4dfe87d
DATE:2025-04-21 21:25:16
MESSAGE:
Another fix re Supabase getSession warning

COMMIT: 8b9fe87
DATE:2025-04-21 21:07:31
MESSAGE:
fix(auth): Use validated session in search server load, add plan doc

COMMIT: ad81d00
DATE:2025-04-21 20:54:01
MESSAGE:
Added image-upload queue
to get over Vercel 4.5MB limit on Free tier for serverless upload

COMMIT: 24de19e
DATE:2025-04-21 20:53:40
MESSAGE:
Removed redundant CORS lines

COMMIT: 5073bdc
DATE:2025-04-21 20:41:09
MESSAGE:
Create robots.txt

COMMIT: 3d2ca25
DATE:2025-04-21 20:29:25
MESSAGE:
Refactor authentication in sourcedir page using createAuthHeaders…
      - Added createAuthHeaders helper function to centralize auth token handling
      - Updated all API calls to use this helper for consistent auth implementation
      - Fixed file upload authentication issues reported by user with 401 errors
      - Added comment suggesting future integration with apiFetch for consistency

COMMIT: b220eea
DATE:2025-04-21 20:13:44
MESSAGE:
Marketing ideas v1
I haven't read through them

COMMIT: a4e55df
DATE:2025-04-21 11:47:09
MESSAGE:
Marketing explainer notes

COMMIT: 479b4ce
DATE:2025-04-21 02:12:21
MESSAGE:
Tweaking EnhancedText size

COMMIT: c942a76
DATE:2025-04-21 01:55:28
MESSAGE:
Added SearchBarMini

COMMIT: 0083c4b
DATE:2025-04-21 01:44:02
MESSAGE:
Enhance word tooltips to show wordform translation and inflection type
- Update tooltips to show wordform translation instead of lemma translation
- Add grammatical information (inflection type) to tooltips with distinctive styling
- Keep lemma form in tooltip header for reference
- Update WordPreview interface and backend to support new fields


COMMIT: 7d2987f
DATE:2025-04-21 01:38:42
MESSAGE:
Add delete button to Sentence component

COMMIT: 1b91b05
DATE:2025-04-21 01:21:28
MESSAGE:
Add visual highlighting for active playback speed
Highlight the currently selected playback speed button in the Sentence component.


COMMIT: 364b2a0
DATE:2025-04-21 01:19:32
MESSAGE:
Add link from Flashcard to Sentence

COMMIT: b9ebd88
DATE:2025-04-21 01:19:20
MESSAGE:
Fix auth integration in SvelteKit routes
Pass Supabase client to API functions for proper authentication in language routes.


COMMIT: b678c62
DATE:2025-04-21 01:09:55
MESSAGE:
Tweaked slow speed for sentence audio

COMMIT: 1317705
DATE:2025-04-21 01:09:46
MESSAGE:
Update README.md

COMMIT: 789bf6a
DATE:2025-04-21 00:50:06
MESSAGE:
Enhanced text now links to wordform

COMMIT: 6761da1
DATE:2025-04-21 00:42:47
MESSAGE:
Reload Wordform page when Lemma has completed

COMMIT: 12ee205
DATE:2025-04-21 00:37:59
MESSAGE:
Mention LoadingSpinner

COMMIT: 408cccd
DATE:2025-04-21 00:26:33
MESSAGE:
Improved title when uploading from url

COMMIT: fae4bf4
DATE:2025-04-21 00:21:26
MESSAGE:
feat: Add LoadingSpinner component and integrate into URL upload modal

COMMIT: e8cdbb1
DATE:2025-04-20 23:44:24
MESSAGE:
Extract source from url v1 (working)

COMMIT: 7034ae7
DATE:2025-04-20 23:42:53
MESSAGE:
feat: Add progressive lemma loading to wordform page
- Create new shared LemmaContent component used by both Lemma and Wordform pages
- Add new LemmaDetails component with progressive loading and auth awareness
- Show lemma details below wordform details with a clear visual separator
- Fix SSR compatibility issues with window references
- Add detailed planning document with implementation strategy


COMMIT: 995eb4f
DATE:2025-04-20 20:59:45
MESSAGE:
Planning doc

COMMIT: 7c21444
DATE:2025-04-20 20:03:28
MESSAGE:
feat: Complete standardized titles for all pages - Add standardized titles to all remaining sections: sentences, phrases, wordforms, search, flashcards - Add meta descriptions to sentence and phrase detail pages - Update planning document to reflect progress - Fix SITE_NAME import errors - Standardize title format across the entire application

COMMIT: 0fd2b5d
DATE:2025-04-20 20:00:19
MESSAGE:
fix: Standardize titles for remaining pages - Fix truncate import bug in sourcefile text page causing 500 error. - Add title and meta description to Wordform detail page. - Update planning document to track all completed tasks. - Fix multiple imports to follow consistent pattern.

COMMIT: 883d393
DATE:2025-04-20 19:48:27
MESSAGE:
feat: Implement standard page titles and meta enhancements
- Add consistent title structure with pipe separators
- Fix trailing slash redirection with 307 status code
- Add meta description utility function for SEO
- Implement error page title standardization
- Add language section redirect to sources page
- Add truncation utility for long content in titles
- Fix bug in languages page DOM binding


COMMIT: cd97330
DATE:2025-04-20 19:36:54
MESSAGE:
Plan for checking data egress issue

COMMIT: 9e8f8a9
DATE:2025-04-20 19:21:45
MESSAGE:
Removed broken and unnecessary

COMMIT: 441b094
DATE:2025-04-20 19:21:27
MESSAGE:
Coding always-rule

COMMIT: 7d7aa87
DATE:2025-04-20 19:17:22
MESSAGE:
Try to ignore soft linebreaks

COMMIT: 582fd7a
DATE:2025-04-20 19:13:59
MESSAGE:
Fixed search 401 login-gating

COMMIT: db94a7b
DATE:2025-04-20 18:53:12
MESSAGE:
feat(search): Add clear and paste buttons to search bar
- Add X button (clear) that appears when text is present
- Add clipboard button for one-click paste functionality
- Both buttons include helpful tooltips
- Focus input after button actions


COMMIT: 880855a
DATE:2025-04-20 18:51:33
MESSAGE:
Adding SourcefileFooter
plus maybe some misc changes from the titles/slashes work

COMMIT: bff365f
DATE:2025-04-20 18:47:05
MESSAGE:
feat: Implement base title and trailing slash setting - Add base title via root layout (Stage 1). Set kit.trailingSlash = 'never' (Stage 2). Revert language layout title attempt & fix type error.

COMMIT: c66469c
DATE:2025-04-20 18:13:34
MESSAGE:
docs(frontend): Refactor architecture and site organisation docs

COMMIT: cab5a19
DATE:2025-04-20 16:11:19
MESSAGE:
Make EnhancedText tooltip links open in new tab with target=\_blank\

COMMIT: 6e61f50
DATE:2025-04-20 16:06:19
MESSAGE:
Site logo link

COMMIT: 7483167
DATE:2025-04-20 15:32:09
MESSAGE:
Update authentication documentation
- Enhance AUTH.md with more detailed information about auth implementation
- Add authentication section to architecture documentation
- Update API integration docs with auth examples
- Improve documentation organization in README


COMMIT: 6a280b0
DATE:2025-04-20 15:19:32
MESSAGE:
Fixing auth redirect to language homepage
but the site logo link is not right

COMMIT: 9b9259e
DATE:2025-04-20 15:02:27
MESSAGE:
Add clickable tooltips linking to lemma pages
- Made lemma name in tooltips clickable, linking to lemma detail page
- Added "View full details" link at the bottom of tooltips
- Added hover effects and styling for tooltip links
- Enhanced error tooltips to also have clickable links to lemma pages


COMMIT: 59aa74b
DATE:2025-04-20 14:47:20
MESSAGE:
Fix Unauthorized errors in Sourcefile processing and search
- Fix processing queue authentication by properly passing Supabase client
- Add robust error handling for authentication failures
- Fix search functionality to handle authentication gracefully
- Improve user feedback for authentication errors with login links
- Make error messages more user-friendly with HTML formatting


COMMIT: 7b7d3f3
DATE:2025-04-20 14:46:13
MESSAGE:
Fix: Validate 'next' param in /auth to prevent open redirect and loops

COMMIT: f21be97
DATE:2025-04-20 14:34:17
MESSAGE:
Don't try and populate related_words_phrases_idioms any more
because I don't think that's very useful

COMMIT: f48d175
DATE:2025-04-20 14:33:07
MESSAGE:
Removed signup alert

COMMIT: 9c91c83
DATE:2025-04-20 14:20:40
MESSAGE:
Add debugging documentation for Sourcefile tab issues
Created a comprehensive debugging document (250420_Sourcefile_debugging.md) that:
- Documents the 500 errors in Sourcefile tabs
- Explains the diagnosis of the serialization issues
- Details the solutions implemented
- Captures key lessons learned about SvelteKit data serialization
- Provides code examples for proper patterns


COMMIT: f7e6dc6
DATE:2025-04-20 14:19:58
MESSAGE:
Add API support for image and audio tabs in Sourcefile pages
- Added new API endpoints for image and audio tabs
- Updated the sourcefile_utils.py to handle image and audio specific data
- Added new route definitions in routes.ts for the image and audio API endpoints


COMMIT: 8fa98ea
DATE:2025-04-20 14:16:24
MESSAGE:
Fix Supabase client serialization errors in Sourcefile tabs
- Fixed 500 errors in all Sourcefile tabs (image, audio, words, phrases, translation)
- Removed non-serializable Supabase client from server-to-client data flow
- Updated all tab page.server.ts files to pass only session data, not Supabase client
- Modified client components to properly pass data to SourcefileLayout
- Updated SourcefileHeader to work without direct Supabase client access
- Added documentation in DEBUGGING.md about proper session handling patterns


COMMIT: 2657cb2
DATE:2025-04-20 13:27:42
MESSAGE:
Fixed lemma login-gating

COMMIT: 54c58bb
DATE:2025-04-20 13:27:32
MESSAGE:
Added Puppeteer

COMMIT: 28eac93
DATE:2025-04-20 12:57:48
MESSAGE:
Refine auth: Require login for costly generation (audio, word search)

COMMIT: 5aa9212
DATE:2025-04-19 03:22:09
MESSAGE:
Fixed more errors

COMMIT: 0c12fa2
DATE:2025-04-19 03:11:42
MESSAGE:
Profile page works

COMMIT: f85f307
DATE:2025-04-19 03:02:06
MESSAGE:
Switched to supabase/SSR library for auth

COMMIT: c2dbdc0
DATE:2025-04-19 01:57:54
MESSAGE:
Processing seems to work!

COMMIT: 50f76e2
DATE:2025-04-19 01:43:46
MESSAGE:
Avoid prefetching word previews

COMMIT: d4cfc46
DATE:2025-04-19 01:31:10
MESSAGE:
Seemingly fixed the auth issue when processing, but now it's in a loop

COMMIT: ae93093
DATE:2025-04-19 00:29:50
MESSAGE:
API-gating various AI-generation functions

COMMIT: 2f30190
DATE:2025-04-18 23:58:41
MESSAGE:
Login to process text

COMMIT: f7b1f5d
DATE:2025-04-18 23:40:26
MESSAGE:
Some of the auth is working, now trying profile page

COMMIT: 04c338c
DATE:2025-04-18 23:10:18
MESSAGE:
First stage of new SvelteKit auth

COMMIT: 29fe8eb
DATE:2025-04-18 22:09:49
MESSAGE:
Partway through frontend orchestrated Sourcefile processing

COMMIT: 23d3718
DATE:2025-04-18 22:09:18
MESSAGE:
Update .cursorignore

COMMIT: c50953e
DATE:2025-04-12 21:17:35
MESSAGE:
Improve SourcefileHeader organization
- Move File Operations section above Description in the expanded header
- Remove duplicate divider line between CollapsibleHeader and MetadataSection
- Add Learning Operations divider to distinguish expandable content from permanent buttons


COMMIT: 7dd52e7
DATE:2025-04-12 21:13:59
MESSAGE:
Renamed logs

COMMIT: 97ab26b
DATE:2025-04-12 21:08:51
MESSAGE:
Add lemma metadata completion to frontend-orchestrated processing
- Add functions to identify incomplete lemmas for a sourcefile
- Create API endpoint for completing individual lemma metadata
- Update processing queue to handle lemma completion steps
- Document future enhancement to order lemmas by text appearance


COMMIT: 56fd056
DATE:2025-04-12 20:50:31
MESSAGE:
Simplified/updated how many words/phrases we get per processing

COMMIT: 0b620b2
DATE:2025-04-12 20:48:58
MESSAGE:
Click process counter multiple times

COMMIT: 53c42c4
DATE:2025-04-12 20:38:01
MESSAGE:
Planning enhanced text transition

COMMIT: 39f4a7e
DATE:2025-04-12 20:37:49
MESSAGE:
Fix aggressive auto-processing and implement live-updating enhanced text
1. Make auto-processing less aggressive by:
   - Only triggering for completely missing text, translation, or wordforms
   - Adding explicit checks for empty strings and whitespace
   - Adding detailed logging for better debugging

2. Implement dynamic updating of enhanced text after processing:
   - Add full sourcefile data fetching after processing
   - Create custom event system to update components
   - Add tooltip refresh mechanism to EnhancedText component
   - Update planning document to mark task as completed


COMMIT: ece68db
DATE:2025-04-12 20:23:27
MESSAGE:
Next stage of Sourcefile processing (auto-clicks, and counter)

COMMIT: 8d521e1
DATE:2025-04-12 20:11:23
MESSAGE:
First stage of frontend Sourcefile orchestration seems to work

COMMIT: e1490e3
DATE:2025-04-12 19:51:05
MESSAGE:
Planning frontend-orchestrated Sourcefile-processing

COMMIT: 77606fd
DATE:2025-04-12 19:39:04
MESSAGE:
Collapsible Sourcefile header

COMMIT: 865315a
DATE:2025-04-12 19:34:08
MESSAGE:
Rename rules
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 1ace5c6
DATE:2025-04-12 19:33:42
MESSAGE:
Replace parallel processing with serial for-loop in process_individual_words_api and add detailed response

COMMIT: 0dbd2af
DATE:2025-04-12 19:12:14
MESSAGE:
Improve Sourcefile UI with collapsible header and unified actions row
- Add CollapsibleHeader component with expand/collapse functionality
- Reorganize Sourcefile page buttons into a single row with dividers
- Group actions logically: Process, Flashcards, and Navigation
- Update STYLING.md with documentation for Phosphor icons in Svelte 5
- Use Unicode triangles temporarily for expand/collapse until icon issues are fixed
- Add responsive handling for mobile views


COMMIT: dcbf264
DATE:2025-04-12 19:03:12
MESSAGE:
Moved out .cursor/rules/*.mdc
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 8b3299c
DATE:2025-04-12 18:49:11
MESSAGE:
Update homepage with key benefits instead of SvelteKit port status

COMMIT: 26cb2b5
DATE:2025-04-12 18:35:58
MESSAGE:
Docs
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 4710f81
DATE:2025-04-12 14:23:58
MESSAGE:
Add database MODELS.md documentation with cross-references
- Create concise (<100 lines) overview of database models
- Document key fields and relationships between models
- Add cross-references in DATABASE.md and frontend docs
- Improve documentation linkage between frontend and backend


COMMIT: a85dde3
DATE:2025-04-12 14:10:02
MESSAGE:
Make 'Process this text' operation synchronous
- Modified process_sourcefile to run synchronously instead of using parallelisation
- Removed run_async calls for text processing
- Removed run_again_after parameter from all functions
- Updated API message to indicate synchronous completion
- Cleaner UX as the page will automatically reload when processing is done


COMMIT: 96179e4
DATE:2025-04-12 13:39:02
MESSAGE:
Fixed language_code variable in build
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 23d964b
DATE:2025-04-12 13:31:48
MESSAGE:
Fix sourcedir dropdown with Svelte reactive approach
- Replace manual DOM manipulation with Svelte's reactive approach
- Fix reference error in moveSourcefile function
- Use isDropdownOpen state variable to control dropdown visibility
- Add proper click-outside handling to close dropdown when needed
- Close dropdown after selection is made


COMMIT: 12f7f15
DATE:2025-04-12 12:56:58
MESSAGE:
Add description field to Create from Text dialog
- Add optional description field to Create from Text dialog in SvelteKit frontend
- Update backend API to process description parameter in create_sourcefile_from_text_api
- Set consistent metadata format with text uploads for better API alignment
- Improve UX by providing description capability in both upload and direct creation


COMMIT: f1fe186
DATE:2025-04-12 12:55:06
MESSAGE:
Include more translations in lemma
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 7722a63
DATE:2025-04-12 12:50:45
MESSAGE:
Add text file upload feature with tooltip guidance
- Add .txt and .md file support to create Sourcefiles
- Implement text file format with optional description/content separator
- Add tooltip on Upload Text Files button instead of static instructions
- Set 1MB size limit for text files (approx 10K words)


COMMIT: 8ebb28c
DATE:2025-04-12 12:32:33
MESSAGE:
Improve API error handling and visibility
- Add global 500 error handler for API routes with JSON responses
- Add specific error handling for field mismatch errors
- Use appropriate status codes to distinguish error types
- Improve logging for better error visibility
- Complete migration from language_code to target_language_code


COMMIT: 0a5e9c9
DATE:2025-04-12 12:24:24
MESSAGE:
Finished rename of language_code -> target_language_code
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 97d9415
DATE:2025-04-12 11:25:36
MESSAGE:
Renamed rule
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: db0445f
DATE:2025-04-12 11:03:03
MESSAGE:
Update language_code to target_language_code throughout the codebase
- Update all occurrences in backend code to match the database migration
- Fix models and queries to use the new field name
- Update frontend type definitions to match the backend changes
- This completes the migration started in migration file 030


COMMIT: 76fe35d
DATE:2025-04-11 16:46:40
MESSAGE:
Fix SvelteKit build issues for Vercel deployment
- Removed unused CSS selectors from EnhancedText component
- Reverted experimental SvelteKit typed URL routing code from SourcefileHeader
- Added SVELTE_WARNINGS_STRICT to run_frontend.sh to catch errors in development
- Updated FRONTEND_DEBUGGING.md with common SvelteKit build issues


COMMIT: e194824
DATE:2025-04-11 16:05:34
MESSAGE:
Moved cursor-tools.mdc into obsolete/

COMMIT: c94bb31
DATE:2025-04-11 15:50:07
MESSAGE:
Planning doc for large data egress issue

COMMIT: 2098c13
DATE:2025-04-11 15:49:56
MESSAGE:
Moved gjdutils rules into ~/.cursor/rules

COMMIT: 2b36530
DATE:2025-04-11 15:49:24
MESSAGE:
Supabase_prod MCP

COMMIT: a6816cc
DATE:2025-04-08 01:42:52
MESSAGE:
Make wordform generation fully synchronous
This commit fixes the issue where users needed to manually refresh the page
after wordform generation. Now the server waits for the AI-generated content
to complete before responding, and the frontend includes a spinner to show
that generation is in progress.


COMMIT: c80ed26
DATE:2025-04-08 01:17:50
MESSAGE:
Superfluous mis-installation
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 400b5da
DATE:2025-04-08 01:17:40
MESSAGE:
Comment
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 721169b
DATE:2025-04-08 01:14:23
MESSAGE:
Remove duplicate search bar from SourcefileLayout
The search bar was appearing twice on sourcefile pages because it was included in both the main layout and the SourcefileLayout component. This commit removes the duplicate search bar from SourcefileLayout, keeping only the one in the main layout for consistency across all pages.


COMMIT: 9d68c5c
DATE:2025-04-08 00:45:45
MESSAGE:
Remove fallbacks, bandaids and excessive logging from lemma generation
This commit simplifies the code by:
- Removing excessive error handling and fallbacks that masked issues
- Eliminating diagnostic logging that was left in production code
- Simplifying API response validation to raise errors properly
- Making the code fail loudly and clearly when there are problems
- Properly propagating errors with informative messages


COMMIT: 8a26886
DATE:2025-04-08 00:41:03
MESSAGE:
Fix missing PencilSimple import in SourcefileHeader component

COMMIT: 27256ce
DATE:2025-04-08 00:35:57
MESSAGE:
Enhance DescriptionFormatted with editing capabilities
- Convert component to include both display and edit functionality
- Add keyboard shortcuts (Ctrl+Enter to save, Esc to cancel)
- Standardize description editing across Sourcedir and Sourcefile components
- Maintain consistent styling and UX between components
- Remove duplicate code for description editing logic

COMMIT: 0325db3
DATE:2025-04-08 00:31:06
MESSAGE:
Create DescriptionFormatted shared component for consistent description handling
- Created a reusable component for formatting text with line breaks and paragraphs
- Updated Sourcedir page to use the shared component
- Updated SourcefileHeader to use the shared component
- Exported the component through $lib for easy importing


COMMIT: efc569e
DATE:2025-04-08 00:30:06
MESSAGE:
Log Flask output to both file and terminal using tee

COMMIT: f17f4b9
DATE:2025-04-08 00:22:26
MESSAGE:
Improve description text formatting with line breaks
- Enhance description display in sourcedir and sourcefile pages
- Parse \n as line breaks within paragraphs using <br> tags
- Parse \n\n as paragraph breaks using separate <p> tags
- Truncate descriptions in SourceItem listings to 100 chars


COMMIT: 1132c9d
DATE:2025-04-08 00:03:38
MESSAGE:
Seemingly fixed lemma generation, but with a lot of extra fallbacks and logging

COMMIT: 6cfbbe6
DATE:2025-04-07 23:54:47
MESSAGE:
Redirect Flask server output to log file
- Capture both stdout and stderr in logs/flask.log
- Create logs directory if it doesn't exist
- Clear log file on server restart for clean logs


COMMIT: 7c458a3
DATE:2025-04-07 23:38:54
MESSAGE:
Update SvelteKit typed routing documentation with implementation details

COMMIT: c3ed63a
DATE:2025-04-07 23:19:31
MESSAGE:
Add SvelteKit typed URL routing planning document with gradual implementation strategy

COMMIT: e0728d8
DATE:2025-04-07 22:55:56
MESSAGE:
Add links to sourcefile/sourcedir in flashcard pages
- Convert sourcefile and sourcedir references to hyperlinks in flashcard pages
- Update URL registry documentation to include getPageUrl best practices
- Remove fallbacks for better fail-fast behavior


COMMIT: a7a63a5
DATE:2025-04-07 22:10:52
MESSAGE:
Fix Sourcefile rename issue with reactive URLs and hard refresh
This fixes an issue where Sourcefile rename updates the URL, but elements
referencing the old slug (View image, Delete, etc.) fail until page reload.

The solution:
1. Use reactive declarations ($:) for all URLs that depend on the slug
2. Use window.location.href instead of goto() for a full page refresh
3. Document the long-term store pattern approach for a more robust solution


COMMIT: 70af24f
DATE:2025-04-07 02:00:22
MESSAGE:
Handle Cmd-click search

COMMIT: f5c972d
DATE:2025-04-07 01:48:17
MESSAGE:
Remove hardcoded localhost fallbacks to fix production API URLs
- Centralize API base URL management in config.ts
- Remove unnecessary localhost fallbacks in api.ts and page.server.ts
- Improve error handling for missing environment variables
- Keep fallback to localhost only in development environment


COMMIT: 9777632
DATE:2025-04-07 01:30:25
MESSAGE:
Renaming Sourcefile updates in the UI

COMMIT: 361b08a
DATE:2025-04-07 01:28:53
MESSAGE:
Uses unslugified filename for Sourcefile title

COMMIT: f86289b
DATE:2025-04-07 01:21:34
MESSAGE:
Tidied 250406_unified_search_api.md

COMMIT: 321cf5b
DATE:2025-04-07 00:57:36
MESSAGE:
Search page working pretty well

COMMIT: 4090b56
DATE:2025-04-07 00:37:08
MESSAGE:
Search is working much better

COMMIT: fb2960f
DATE:2025-04-07 00:27:07
MESSAGE:
Unified search API stage 1
promising, but you have to refresh the page for it to work

COMMIT: de67217
DATE:2025-04-06 23:45:39
MESSAGE:
Tweak to line spacing of enhanced text

COMMIT: cbba331
DATE:2025-04-06 23:34:48
MESSAGE:
Rewrote enhanced text using structured word data instead of pre-generated HTML

COMMIT: a18fe69
DATE:2025-04-06 22:50:40
MESSAGE:
Tweak to "easily confused" generation

COMMIT: 34be676
DATE:2025-04-06 22:48:13
MESSAGE:
Add tooltips to navigation buttons with file names and directory path

COMMIT: 905168d
DATE:2025-04-06 22:35:03
MESSAGE:
Fix navigation in SourcefileHeader using SvelteKit's proper routing

COMMIT: 0047ff4
DATE:2025-04-06 21:57:45
MESSAGE:
Disable YouTube button

COMMIT: 51d1965
DATE:2025-04-06 21:45:51
MESSAGE:
Update tooltip styling to use dark theme with loading spinner
- Replace light theme with custom dark theme matching site colors
- Add loading spinner for better user feedback during API requests
- Style headers with primary color and errors with secondary color
- Update debug info styling to match dark theme
- Document styling changes in tooltip debugging notes


COMMIT: 49cc444
DATE:2025-04-06 21:41:15
MESSAGE:
Add WordPreview TypeScript interface for tooltips
- Create dedicated WordPreview interface in types.ts
- Add proper type annotations to EnhancedText component
- Type function returns and parameters for better type safety
- Document API response structure with JSDoc comments
- Add explicit type casts for fallback objects

This improves type safety and makes the component more maintainable
by clearly defining the expected data structure from the API.


COMMIT: 21df4fe
DATE:2025-04-06 21:39:23
MESSAGE:
Update EnhancedText debugging documentation
- Document parameter naming standardization (language_code → target_language_code)
- Add details about async/await implementation benefits
- Update lessons learned with naming consistency best practices
- Add code evolution summary showing incremental improvements
- Remove outdated references to XMLHttpRequest fallback
- Expand implementation details for future reference


COMMIT: 15a9152
DATE:2025-04-06 21:37:46
MESSAGE:
Standardize language parameter naming in EnhancedText component
- Rename language_code prop to target_language_code for consistency with API
- Update all references to language_code in EnhancedText.svelte
- Pass language_code as target_language_code in SourcefileText component
- Add documentation explaining the naming change
- Simplify debug info display in tooltips
- Keep parameter naming consistent with backend API and routes.ts


COMMIT: 01c17a4
DATE:2025-04-06 21:34:13
MESSAGE:
Refactor EnhancedText word data fetching with async/await
- Replace complex Promise chains with cleaner async/await syntax
- Remove unnecessary XMLHttpRequest fallback (modern browsers support fetch)
- Commit to type-safe URL generation using routes.ts
- Improve error handling with specific fallback messages
- Simplify code structure for better maintainability


COMMIT: 1eb62e2
DATE:2025-04-06 21:22:21
MESSAGE:
Tooltips seem to be working, with routes.ts machinery

COMMIT: fed4131
DATE:2025-04-06 21:13:06
MESSAGE:
Tooltips are working for Sourcefile, still in progress
- still using hand-constructed url
- lots of debug logging

COMMIT: a987613
DATE:2025-04-06 20:39:08
MESSAGE:
Adjust hero styling on homepage

COMMIT: ddac8d9
DATE:2025-04-06 20:32:25
MESSAGE:
Tilted logo - thanks, Carolina!

COMMIT: a6a3aef
DATE:2025-04-05 18:58:55
MESSAGE:
Enhance flashcard experience to always play audio with LEFT key
- Update documentation to clarify LEFT arrow always plays audio
- Add dedicated playAudio function that doesn't interrupt already playing audio
- Modify keyboard handler to play audio in any stage with LEFT arrow
- Enable audio play in stage 1 with the Play audio button
- Add KeyReturn icon to New sentence button for better UX


COMMIT: c23bf59
DATE:2025-04-05 18:26:12
MESSAGE:
Update ENHANCED_TEXT.md

COMMIT: dded6d1
DATE:2025-04-05 18:25:58
MESSAGE:
Update DEVOPS.md

COMMIT: 0705b66
DATE:2025-04-05 18:25:49
MESSAGE:
Fix API requests in EnhancedText component and handle favicon requests
- Updated EnhancedText.svelte to use type-safe API URL generation with getApiUrl
- Fixed issue where relative URL paths were causing requests to hit wrong domain
- Modified backend vercel.json to handle favicon requests gracefully
- Prevents 404 errors when crawlers request favicon.png on API domain


COMMIT: a5b45eb
DATE:2025-04-05 18:23:31
MESSAGE:
Add dev-mode error details for better debugging
- Import dev flag from $app/environment to detect development mode
- Add collapsible developer error details section to both error pages
- Display comprehensive debug information in dev mode only
- Include error details, stack trace, route info, and page data
- Keep the interface user-friendly in production


COMMIT: 7c42b46
DATE:2025-04-05 18:21:40
MESSAGE:
Add error handling pages to SvelteKit frontend
- Create root error page that catches 404s and other errors
- Create language-specific error page that preserves language context
- Add language detection to root error for better navigation
- Create test-error route for testing language-specific errors
- Use Bootstrap styling consistent with the rest of the site


COMMIT: fd8b0af
DATE:2025-04-05 18:07:56
MESSAGE:
Fix accessibility issues in sourcedir page
1. Added proper ARIA attributes to modal dialogs and close buttons:
   - Added role="dialog" to modal content elements
   - Added aria-labelledby attribute connecting modals to their title elements
   - Added tabindex="-1" to modal content for keyboard focus
   - Added aria-label="Close" to close buttons

2. Improved button accessibility:
   - Added aria-label to delete file buttons with file name reference
   - Ensures screen readers properly announce interactive elements


COMMIT: 5868948
DATE:2025-04-05 18:06:49
MESSAGE:
Fix Svelte component unused export warnings
1. Changed unused props to export const in SourcefileHeader and SourcefileText:
   - Converted sourcedir and stats in SourcefileHeader to export const
   - Converted sourcefile and text_english in SourcefileText to export const
   - Used TypeScript casting to ensure type safety

2. Updated parent component to not pass unused props:
   - Removed sourcefile and text_english props from SourcefileText component
   - Kept essential props for component functionality


COMMIT: 08c580a
DATE:2025-04-05 18:04:16
MESSAGE:
Getting rid of VERCEL_PROD_*_DEPLOYMENT_ID environment variables

COMMIT: 82c4ef2
DATE:2025-04-05 17:55:52
MESSAGE:
Fix accessibility and Svelte warnings
1. WordformCard.svelte:
   - Fixed accessibility issues by replacing non-interactive <span> with
     <button type="button"> for the lemma link
   - Added keyboard event handler (keydown for Enter key)
   - Styled the button to appear like a text link with CSS reset properties

2. SourcefileHeader.svelte:
   - Added @svelte-ignore directive to suppress warnings about unused props
   - Kept sourcedir and stats props for consistency with parent component


COMMIT: 8aded97
DATE:2025-04-05 17:34:33
MESSAGE:
Require virtualenv to deploy backend

COMMIT: bfc7552
DATE:2025-04-05 17:12:19
MESSAGE:
Revert "Moved backend/views/*_api.py -> backend/api/"
This reverts commit 5181ee5a28750ace23b46e07e584c7e2560d4faa.

COMMIT: 81214d2
DATE:2025-04-05 17:12:15
MESSAGE:
Revert "Fixed backend.api references"
This reverts commit 342656c2ae40b7222235244432af0c627146a297.

COMMIT: 16d519b
DATE:2025-04-05 17:12:06
MESSAGE:
Improving ENHANCED_TEXT.md (IN PROGRESS)

COMMIT: 31ca74e
DATE:2025-04-05 17:09:59
MESSAGE:
Less verbose logging
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 8895d26
DATE:2025-04-05 16:45:40
MESSAGE:
Docs re Vercel logs
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 342656c
DATE:2025-04-05 16:43:03
MESSAGE:
Fixed backend.api references
from the move from `backend/views/*_api.py`

Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 468dfe7
DATE:2025-04-05 16:25:26
MESSAGE:
Fixe prompt templates DIRN reference
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 1e29553
DATE:2025-04-05 16:02:43
MESSAGE:
Got rid of .env.local_to_prod
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: f77f578
DATE:2025-04-05 15:55:21
MESSAGE:
Update deployment ID environment variable names in documentation and scripts

COMMIT: 5181ee5
DATE:2025-04-05 15:33:40
MESSAGE:
Moved backend/views/*_api.py -> backend/api/
Updated all references to backend/views/*_api.py in documentation to point to the new location backend/api/*_api.py.
Changes made to:
- frontend/docs/ENHANCED_TEXT.md
- backend/docs/URL_REGISTRY.md
- frontend/docs/FRONTEND_SVELTEKIT_ARCHITECTURE.md
- frontend/docs/SEARCH.md


COMMIT: b024905
DATE:2025-04-05 14:58:06
MESSAGE:
Update CLAUDE.md

COMMIT: 412d91c
DATE:2025-04-05 14:57:06
MESSAGE:
Fix database migration scripts for production
- Update migrate.sh to correctly run from backend directory
- Fix environment variable export in migrate.sh
- Re-enable migration step in deploy_backend.sh


COMMIT: aa245f7
DATE:2025-04-05 14:49:38
MESSAGE:
Updated docs references

COMMIT: 8aa1a47
DATE:2025-04-05 14:49:31
MESSAGE:
Use API-based sorting instead of client-side hack for /sources page
Replace client-side JavaScript sorting with proper SvelteKit URL-based routing that leverages the API's sorting capabilities. This:
- Updates the URL with the sort parameter when switching sort modes
- Uses the database for sorting (more efficient)
- Makes sort preferences bookmarkable/shareable via URL
- Follows SvelteKit's design pattern for server-side operations


COMMIT: 7ead745
DATE:2025-04-05 14:38:31
MESSAGE:
Using client-side sorting hack to fix /sources :(

COMMIT: ae33d11
DATE:2025-04-05 14:19:00
MESSAGE:
Add 'Up' button to sourcedir page for easier navigation

COMMIT: 50e4ef6
DATE:2025-04-05 14:03:19
MESSAGE:
Add logo to header with animated hover effect

COMMIT: affa396
DATE:2025-04-05 13:57:38
MESSAGE:
Update favicon implementation
- Move favicon handling entirely to SvelteKit
- Remove Flask favicon route from backend
- Add modern favicon assets for different platforms
- Configure proper favicon links in app.html
- Update web manifest with app name and proper paths


COMMIT: ceb761c
DATE:2025-04-05 13:41:34
MESSAGE:
Removed console.log

COMMIT: 74525bd
DATE:2025-04-05 13:40:24
MESSAGE:
Fix accessibility and CSS issues in languages page
- Remove autofocus attribute to improve accessibility
- Eliminate unused CSS selectors by using global styles
- Update styling documentation with best practices for focus management
- Properly scope card styling to avoid unused CSS warnings


COMMIT: ee3f52c
DATE:2025-04-05 13:39:28
MESSAGE:
Fix accessibility issues in sourcedir page modals
- Add ARIA roles to divs with keydown handlers
- Add aria-labels to close buttons
- Add proper title associations for modal dialogs
- Update STYLING.md with accessibility guidelines for future development


COMMIT: c6f838c
DATE:2025-04-05 13:38:38
MESSAGE:
Refactor prompt templates to use individual files

COMMIT: 6906ebe
DATE:2025-04-05 12:47:23
MESSAGE:
Added EnhancedText and Tippy, but only partially, not working

COMMIT: 6fbccc6
DATE:2025-04-05 02:53:12
MESSAGE:
Update SEARCH.md with recent progress and learned lessons

COMMIT: 5292105
DATE:2025-04-05 02:47:12
MESSAGE:
Fix Process this text button by adding empty JSON body to API request
The button was failing with a 400 Bad Request error because the API expected a JSON body, but the request was sent without one.


COMMIT: 975a977
DATE:2025-04-05 02:40:05
MESSAGE:
Fix image upload functionality by modernizing API
- Change API to return JSON responses with proper HTTP status codes
- Remove legacy template rendering code causing Flask errors
- Update SvelteKit component to properly handle API responses
- Fix error handling and simplify success flow
- Only display alerts for errors, not for successful uploads


COMMIT: 5902b84
DATE:2025-04-05 02:31:53
MESSAGE:
Improve modal dialogues with better UX patterns
- Add keyboard shortcuts (ESC to cancel, ENTER/CTRL+ENTER to submit)
- Add loading spinners and disable buttons during API operations
- Fix delete button UI using Phosphor icons
- Add auto-focus to modal input fields
- Add form validation with disabled buttons and tooltips
- Prevent double submissions of forms
- Add documentation in USER_EXPERIENCE.md


COMMIT: 37007fc
DATE:2025-04-05 02:15:08
MESSAGE:
Fix language selector in sourcedir page
- Fix ReferenceError by properly using supported_languages from API
- Add fallback for supported languages in case API doesn't provide them
- Update variable names for consistency in templates


COMMIT: 86d4ad6
DATE:2025-04-05 02:02:28
MESSAGE:
Add source directory management buttons
- Add New Source Directory button at the top of the page
- Add Delete buttons for empty source directories
- Update SourceItem component to accept className property for styling


COMMIT: 0a2e988
DATE:2025-04-05 01:39:22
MESSAGE:
Tidied up index.py

COMMIT: 9714373
DATE:2025-04-05 01:30:46
MESSAGE:
Speeding up & refactoring Sourcefile pages

COMMIT: 48ad3a6
DATE:2025-04-05 00:18:16
MESSAGE:
Sourcedir sort by date default

COMMIT: a017078
DATE:2025-04-05 00:11:29
MESSAGE:
Fixing routes.ts generation - again - manually!

COMMIT: 175a764
DATE:2025-04-04 20:37:30
MESSAGE:
Added Translation tab

COMMIT: 0a14b02
DATE:2025-04-04 20:30:59
MESSAGE:
Create SITE_ORGANISATION.md

COMMIT: 0047e94
DATE:2025-04-04 20:28:10
MESSAGE:
SourcefileLayout and improved nav tabs

COMMIT: fd915dd
DATE:2025-04-04 20:17:41
MESSAGE:
Phosphor-Svelte icons for Sourcefile

COMMIT: 480f06b
DATE:2025-04-04 20:03:26
MESSAGE:
Changed enhanced text links to wordform instead of lemma

COMMIT: 5eed173
DATE:2025-04-04 20:01:04
MESSAGE:
Fixed Flashcards

COMMIT: 62af782
DATE:2025-04-04 19:51:10
MESSAGE:
Fixed links to lemma

COMMIT: 01fbcdc
DATE:2025-04-04 19:44:53
MESSAGE:
Added first and last buttons to Sourcefile

COMMIT: 641e929
DATE:2025-04-04 19:38:40
MESSAGE:
Fixed Flashcards error

COMMIT: 83d9cb0
DATE:2025-04-04 19:36:26
MESSAGE:
Fixed Prev and Next buttons

COMMIT: 1a8e6db
DATE:2025-04-04 19:13:58
MESSAGE:
Fixed deploy urls (and hopefully health checks)

COMMIT: 5f2c51d
DATE:2025-04-04 19:09:06
MESSAGE:
Hopefully fixing syntax error in deploy.sh

COMMIT: de2e25d
DATE:2025-04-04 19:08:54
MESSAGE:
Fixed routes.ts again

COMMIT: b26588f
DATE:2025-04-04 18:48:52
MESSAGE:
Tidying up docs and tests

COMMIT: 2f63f8c
DATE:2025-04-04 18:35:01
MESSAGE:
Better deployment error message

COMMIT: 01f43df
DATE:2025-04-04 18:31:23
MESSAGE:
Fixed routes.ts location

COMMIT: 8e479a4
DATE:2025-04-03 20:28:22
MESSAGE:
Renamed sveltekit -> frontend, run_flask -> run_backend

COMMIT: 86ce1c1
DATE:2025-04-03 20:10:57
MESSAGE:
Tidying

COMMIT: 364a3c5
DATE:2025-04-03 20:08:11
MESSAGE:
Successful deploy, correct API urls

COMMIT: ad8bfab
DATE:2025-04-01 20:51:15
MESSAGE:
API works again for non-Jinja
Lots of tidying, e.g. moved all Python into `backend/`, updated `.vercelignore`, still some tidying to do

e.g. /api/lang/languages

UNTESTED for database

COMMIT: eed954d
DATE:2025-04-01 15:39:59
MESSAGE:
Update .vercelignore

COMMIT: 5121ad6
DATE:2025-04-01 14:30:13
MESSAGE:
Delete vite_helpers.cpython-312.pyc

COMMIT: 6014479
DATE:2025-03-31 18:05:07
MESSAGE:
deploy_api.sh almost runs
issue with final location of `index.py`

COMMIT: bd6f287
DATE:2025-03-31 17:27:36
MESSAGE:
Update deployment scripts for dual Vercel setup (API + SvelteKit)

COMMIT: 24d70d5
DATE:2025-03-31 16:58:02
MESSAGE:
Update Vercel deployment strategy with dual-project organization

COMMIT: 6310ce6
DATE:2025-03-31 16:30:52
MESSAGE:
Prepare SvelteKit for Vercel deployment and update Flask CORS settings

COMMIT: f942aab
DATE:2025-03-31 15:19:44
MESSAGE:
Warning in out-of-date docs re SvelteKit

COMMIT: e9243d6
DATE:2025-03-31 15:18:19
MESSAGE:
Tidied up Python code into `api/`

COMMIT: 86c75e5
DATE:2025-03-31 14:39:08
MESSAGE:
Auto-focus on search languages box
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 65ce7ce
DATE:2025-03-30 18:49:55
MESSAGE:
Fix wordform page to handle enhanced search responses

COMMIT: c8eedff
DATE:2025-03-30 18:47:32
MESSAGE:
Update SEARCH.md with comprehensive implementation status and testing guide

COMMIT: 4a10490
DATE:2025-03-30 18:45:15
MESSAGE:
Implement enhanced search functionality for SvelteKit
- Create comprehensive search documentation in SEARCH.md
- Refactor backend to extract common search logic into find_or_create_wordform utility
- Add type definitions for search results in SvelteKit
- Create SearchResults component for displaying different result types
- Update API functions to support enhanced search features
- Handle multiple matches, redirects, English translation results and invalid words


COMMIT: 4a45986
DATE:2025-03-30 18:42:09
MESSAGE:
Doc thinking about page titles
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 6b9d3ed
DATE:2025-03-30 18:28:49
MESSAGE:
Update search functions in api.ts to use type-safe URL registry
- Refactor `getSearchLandingData` and `searchWord` to use `apiFetch` instead of hardcoded URLs 
- Update URL_REGISTRY.md to reflect SvelteKit architecture and de-emphasize deprecated Jinja views
- Highlight current best practices using getApiUrl/apiFetch for SvelteKit components
- Add section about parameter naming consistency between Flask and SvelteKit
COMMIT: 2dc6f6d
DATE:2025-03-30 18:20:17
MESSAGE:
Removed extraneous `static_folder` arg
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: d5de21b
DATE:2025-03-30 18:17:03
MESSAGE:
Remove the get_api_url function from utils.ts
Now that all usages have been replaced with getApiUrl, we can completely 
remove the deprecated get_api_url function.
COMMIT: a44d6cf
DATE:2025-03-30 18:16:22
MESSAGE:
Replace get_api_url with type-safe getApiUrl function in SvelteKit codebase
- Replaced all occurrences of get_api_url with getApiUrl in flashcard components
- Updated get_language_name function to use getApiUrl
- Updated README.md to reference the correct function
- Improved type safety by using RouteName enum instead of string endpoints
- Added query parameter handling for all flashcard API endpoints
COMMIT: bd99e62
DATE:2025-03-30 17:49:38
MESSAGE:
Add search bar to all language-specific pages using SvelteKit layouts

COMMIT: 34e1ec4
DATE:2025-03-30 17:38:47
MESSAGE:
Refactor search functionality by extracting common code to search_utils.py

COMMIT: 3570976
DATE:2025-03-30 17:27:44
MESSAGE:
First stage of search -> SvelteKit
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: 66e9c12
DATE:2025-03-30 14:30:33
MESSAGE:
Fix languages search functionality
Added proper reactivity to the language search feature on the languages page,
using Svelte's reactive declarations for filtering and grouping languages.


COMMIT: 27bf109
DATE:2025-03-30 14:24:43
MESSAGE:
Added buttons to main language page
Co-Authored-By: Claude <noreply@anthropic.com>

COMMIT: f645861
DATE:2025-03-30 14:24:20
MESSAGE:
Update CLAUDE.md with SvelteKit documentation references
- Add project architecture section explaining transition to SvelteKit
- Update backend and frontend structure sections
- Replace Vite references with SvelteKit information
- Add details about component library and type-safe API integration
- Update development commands


COMMIT: 8ffed17
DATE:2025-03-30 14:16:17
MESSAGE:
Update to $app/state from deprecated $app/stores
- Updated imports from $app/stores to $app/state for phrase pages
- Removed $ prefix from page references (page.params instead of $page.params)
- This follows the migration strategy outlined in SVELTEKIT_ARCHITECTURE.md
- Ensures compatibility with Svelte 5 runes and future SvelteKit versions

COMMIT: dc280ed
DATE:2025-03-30 14:12:33
MESSAGE:
Docs

COMMIT: 1921761
DATE:2025-03-30 14:12:19
MESSAGE:
Still fixing urls

COMMIT: f425753
DATE:2025-03-30 13:58:20
MESSAGE:
Avoiding duplicate headings in Sourcefile

COMMIT: 8201976
DATE:2025-03-30 13:49:54
MESSAGE:
Fix route URLs using type-safe route resolution
- Update Flask view URLs to use consistent /language/[code]/source/[dir]/[file] pattern
- Refactor SvelteKit page server files to use RouteName enum with proper parameters
- Replace hardcoded URLs with type-safe getApiUrl function calls
- Fix inconsistencies between SvelteKit routing and Flask endpoints
- Update routes.ts with correct path patterns
COMMIT: 7e98f31
DATE:2025-03-30 13:32:35
MESSAGE:
Fixed run_sveltekit.sh

COMMIT: c1cf6cd
DATE:2025-03-30 13:01:52
MESSAGE:
Renaming views /lang -> /language

COMMIT: 19abf8b
DATE:2025-03-30 12:48:50
MESSAGE:
In progress on URL standardisation

COMMIT: 80b664f
DATE:2025-03-30 12:25:32
MESSAGE:
Implement type-safe route integration between Flask and SvelteKit
- Move TypeScript route generation to SvelteKit's lib/generated folder
- Create type-safe API utilities (getApiUrl, apiFetch)
- Update components to use typed route parameters
- Standardize on target_language_code parameter naming
- Update documentation with type-safety benefits
- Refactor phrase detail and sources page to use the new approach

This change provides compile-time checking of API routes and parameters, 
creates a single source of truth for routes, and improves IDE support 
with autocomplete.
COMMIT: ac345e3
DATE:2025-03-30 11:57:39
MESSAGE:
Fixed sourcedir url

COMMIT: b5654ea
DATE:2025-03-30 11:54:40
MESSAGE:
Tidying and docs

COMMIT: 835aa2e
DATE:2025-03-30 11:46:22
MESSAGE:
Add timestamp metadata to Phrase to_dict method to display in MetadataCard component

COMMIT: 37d3dfb
DATE:2025-03-30 11:32:42
MESSAGE:
Update STYLING.md with comprehensive component and CSS class documentation

COMMIT: 8588c29
DATE:2025-03-30 11:31:39
MESSAGE:
Update Sourcefile routing to redirect bare URL to /text
- Changed base Sourcefile URL to redirect to /text tab
- Moved data fetching logic from root route to text tab
- Created text tab page component with proper navigation
- Updated links in all tab pages to consistently point to /text
- Ensured breadcrumbs correctly link to the text tab for the file name
- Maintained consistent tab styling and navigation across all pages

COMMIT: 5b0f1b8
DATE:2025-03-30 11:25:09
MESSAGE:
Implement dedicated tab routes for Sourcefile pages
- Created separate route directories and files for Words and Phrases tabs
- Added MetadataCard to both tab pages for consistent UI
- Implemented WordformCard integration on Words page
- Added PhraseCard integration on Phrases page
- Implemented text tab redirect back to main sourcefile page
- Updated main sourcefile page links to point to dedicated tab routes
- Improved styling for tab navigation
- Enhanced structure for better SEO with individual page URLs
COMMIT: feb661b
DATE:2025-03-30 03:54:55
MESSAGE:
Sourcefile tabs in progress

COMMIT: 57cf915
DATE:2025-03-30 03:36:28
MESSAGE:
Implement Sourcefile page components and fix API routing
- Create SourcefileWords component with WordformCard integration
- Create SourcefilePhrases component with PhraseCard integration 
- Update SourcefileHeader component with API actions (process, rename, delete)
- Fix language_name error in page.svelte
- Update sourcedir_api.py route for consistent URL structure
- Update planning document with progress and next steps
COMMIT: d00f7a5
DATE:2025-03-30 03:26:05
MESSAGE:
Working on Sourcefile page

COMMIT: 0fda6fe
DATE:2025-03-30 02:14:09
MESSAGE:
Improved Phrase in SvelteKit

COMMIT: 49810a2
DATE:2025-03-30 00:53:42
MESSAGE:
Added Phrase SvelteKit

COMMIT: 0ec4905
DATE:2025-03-30 00:36:08
MESSAGE:
Enhance phrases page with improved styling and component design
- Implemented a responsive grid layout for phrase cards
- Added PhraseCard component with proper styling
- Enhanced visual appeal with card shadows, hover effects, and transitions
- Improved sort buttons with better styling
- Updated color scheme to match project's design system
- Better spacing and typography for improved readability
COMMIT: 6315009
DATE:2025-03-30 00:27:48
MESSAGE:
Refactor phrase queries into shared utility function
- Created new utils/phrase_utils.py with get_phrases_query() function
- Updated phrase_api.py to use Peewee's dicts() method for cleaner serialization
- Updated phrase_views.py to use the shared utility function
- Simplified code and reduced duplication
COMMIT: 9885ec4
DATE:2025-03-30 00:20:15
MESSAGE:
Add phrases_list_api and SvelteKit phrases route
- Created phrases_list_api function in phrase_api.py
- Added Phrase interface to types.ts
- Created getPhrasesForLanguage API helper function
- Implemented SvelteKit routes for phrases display
- Updated planning document to mark task as complete
COMMIT: 11c72d9
DATE:2025-03-30 00:12:44
MESSAGE:
Add MetadataCard component for consistent timestamp display across pages

COMMIT: 8b0b268
DATE:2025-03-30 00:05:40
MESSAGE:
Extract LemmaCard component and implement across application

COMMIT: 8dcb00e
DATE:2025-03-29 23:56:14
MESSAGE:
Fix flashcards functionality in SvelteKit port
This commit resolves issues with the flashcards functionality:

1. Fixed incorrect API endpoint references:
   - Updated endpoint from "sentence_views.get_sentence_audio" to "sentence_api.get_sentence_audio_api"
   - Updated parameter names from "language_code" to "target_language_code"

2. Refactored code to use shared utility functions:
   - Added new functions in flashcard_utils.py
   - DRY implementation between views and API endpoints

3. Fixed SvelteKit integration:
   - Added proper error handling in server-side data fetching
   - Fixed audio URL handling to use absolute URLs
   - Improved redirect handling in random flashcard route
   - Added debugging logs for troubleshooting

4. Added comprehensive logging to help diagnose future issues
COMMIT: a7c5df9
DATE:2025-03-29 23:38:41
MESSAGE:
Add flashcard API, utilities, and SvelteKit routes
- Create a dedicated flashcard_utils.py to abstract common functionality
- Create proper API endpoints in flashcard_api.py with the /api/lang prefix
- Register the flashcard API blueprint in the main Flask app
- Add SvelteKit routes for flashcards landing page
- Add SvelteKit routes for random flashcards and specific sentences
- Implement styled UI with custom CSS based on STYLING.md guidelines
COMMIT: d7f7262
DATE:2025-03-29 23:19:51
MESSAGE:
Add wordform metadata SvelteKit page
- Create get_wordform_metadata API endpoint
- Abstract common functionality into get_wordform_metadata utility 
- Add SvelteKit route for wordform detail page
- Style wordform page with improved layout and badges
- Split inflection_type field into individual badges
- Use subtle styling for metadata badges
- Make lemma link prominent with a large button
COMMIT: 5570ee3
DATE:2025-03-29 22:42:16
MESSAGE:
Add wordforms API, components and route for SvelteKit implementation
- Created wordforms_list_api endpoint in wordform_api.py
- Added Wordform interface to types.ts
- Created getWordformsForLanguage function in api.ts 
- Implemented WordformCard component with styling
- Added SvelteKit route for wordforms display
- Added proper navigation links between language resources
COMMIT: dd967a2
DATE:2025-03-29 22:30:21
MESSAGE:
Add Lemma view in SvelteKit with SentenceCard component integration

COMMIT: 55cecbe
DATE:2025-03-29 22:23:46
MESSAGE:
Abstract sentences into SentenceCard component with dark theme styling

COMMIT: 8f1ee2d
DATE:2025-03-29 22:11:34
MESSAGE:
Lemmas list vw

COMMIT: 16b4deb
DATE:2025-03-29 22:10:10
MESSAGE:
Improve Card component to prevent nested anchor tag errors
- Added clear documentation to warn about nested anchor tags
- Renamed href prop to linkUrl for clearer API semantics
- Updated all component usages to match the new API
- This change prevents the HierarchyRequestError that occurs when nesting <a> tags
COMMIT: 7a3b0b5
DATE:2025-03-29 21:53:26
MESSAGE:
Added sentences_list

COMMIT: 382329a
DATE:2025-03-29 21:39:45
MESSAGE:
Add API endpoint for source directories and connect SvelteKit sources page to real API data

COMMIT: 73135a4
DATE:2025-03-29 21:36:04
MESSAGE:
Update run_sveltekit.sh

COMMIT: 534d56e
DATE:2025-03-29 21:22:48
MESSAGE:
Moved Python docs

COMMIT: be247f0
DATE:2025-03-29 21:21:52
MESSAGE:
Renamed docs

COMMIT: 472b090
DATE:2025-03-29 21:21:40
MESSAGE:
Improve homepage design and styling to match dark theme

COMMIT: 2fdc676
DATE:2025-03-29 21:16:38
MESSAGE:
Restructure SvelteKit documentation into separate files

COMMIT: 03e8763
DATE:2025-03-29 21:12:17
MESSAGE:
Enhance languages page with modern design and fix search functionality
- Redesigned the languages page with modern UI featuring animations, gradients and responsive layout
- Fixed search functionality to filter by both language name and code
- Made cards more compact to display more languages at once
- Added hero section with stats and illustration
- Improved card design with large letter background for visual interest
- Implemented alphabetical navigation
- Enhanced mobile responsiveness
- Updated Card component to support the new styling
COMMIT: 513ac76
DATE:2025-03-29 20:55:54
MESSAGE:
Update documentation with Bootstrap theme details
- Added Bootstrap styling documentation to README.md
- Updated SvelteKit planning document with design system guidelines
- Added component library usage examples
- Documented the CSS structure and color palette
- Marked Bootstrap implementation as complete in the planning

COMMIT: dc975ad
DATE:2025-03-29 20:52:32
MESSAGE:
Refactor Bootstrap implementation for reusability
- Created reusable UI components (Card, SourceItem)
- Restructured CSS with separate theme-variables.css for easy customization
- Added components.css for shared component styles
- Updated Sentence component to use Bootstrap classes
- Improved code organization with proper component exports
- Enabled consistent theme usage across the application
COMMIT: 46038a6
DATE:2025-03-29 20:48:25
MESSAGE:
Implement Bootstrap styling for SvelteKit
- Added Bootstrap 5.3.2 CSS and JS files
- Created custom dark theme with specified color scheme
- Updated layout and pages to use Bootstrap classes
- Implemented consistent styling for language cards and sources
- Removed inline styles in favor of Bootstrap utilities
COMMIT: 533e795
DATE:2025-03-29 20:37:10
MESSAGE:
Tweaks for sveltekit_hz Sentence

COMMIT: b9f120e
DATE:2025-03-29 20:36:06
MESSAGE:
Docs, including sveltekit_hz README

COMMIT: 813151b
DATE:2025-03-29 20:29:13
MESSAGE:
Add language name API and improve SvelteKit backend integration
- Added new language_name API endpoint in languages_api.py
- Created utility function in SvelteKit for fetching language names
- Fixed server-side rendering with proper fetch handling
- Updated sources route with language name integration
- Updated planning document with completed tasks
COMMIT: f14a814
DATE:2025-03-29 19:58:24
MESSAGE:
Init sveltekit_hz

COMMIT: e6af7d6
DATE:2025-03-29 19:58:04
MESSAGE:
Playwright MCP

COMMIT: 80da008
DATE:2025-03-29 19:51:54
MESSAGE:
Moved languages_list_vw -> languages_views.py

COMMIT: 340c1e0
DATE:2025-03-29 19:51:05
MESSAGE:
Add API endpoint for detailed sentence view
- Created get_detailed_sentence_data utility function in sentence_utils.py to extract common logic
- Added new GET endpoint at /api/lang/sentence/{lang_code}/{slug} in sentence_api.py
- Refactored get_sentence_vw in sentence_views.py to use the shared utility function
- Updated template to use languages_views instead of core_views for language list"
COMMIT: 7209eac
DATE:2025-03-29 19:43:34
MESSAGE:
Move languages_list_vw to dedicated Blueprint and add languages API endpoint
- Created a new languages_views_bp Blueprint to properly modularize the language views

- Extracted core get_languages_list() function for reuse

- Created new languages_api_bp with /api/lang/languages endpoint

- Updated template references to use new endpoint name

- Registered both blueprints in app initialization

COMMIT: a3f668b
DATE:2025-03-29 19:01:02
MESSAGE:
Moved out iOS

COMMIT: 15fa2d4
DATE:2025-03-28 17:21:37
MESSAGE:
Added delete button

COMMIT: b8fac50
DATE:2025-03-28 17:14:04
MESSAGE:
Added Delete Phrase button (with icon)

COMMIT: 678e019
DATE:2025-03-28 17:05:27
MESSAGE:
Don't return words/phrases if empty text

COMMIT: fac1268
DATE:2025-03-28 17:03:16
MESSAGE:
Abortive experiment in auto-creating lemmas

COMMIT: 3de9ecd
DATE:2025-03-27 02:40:12
MESSAGE:
If unprocessed, do a double-round of extracting wordforms and phrases

COMMIT: 675b12f
DATE:2025-03-27 02:28:45
MESSAGE:
Improved parallelisation

COMMIT: 7f31bca
DATE:2025-03-27 02:15:38
MESSAGE:
Fire and forget

COMMIT: 4f49b09
DATE:2025-03-27 02:01:12
MESSAGE:
Setting limits on max phrases/words
because of timeouts and max_tokens (not sure why this is only suddenly an issue now)

COMMIT: e7e8b22
DATE:2025-03-27 01:55:46
MESSAGE:
Don't check Git twice - it's not worth it

COMMIT: bb77225
DATE:2025-03-27 01:30:28
MESSAGE:
Refactor/malgamate process & update Sourcefile

COMMIT: bb7cad0
DATE:2025-03-27 01:29:58
MESSAGE:
Improving Source* header & buttons - cosmetic

COMMIT: 44296f2
DATE:2025-03-27 01:27:47
MESSAGE:
Default language level and types

COMMIT: ced02cd
DATE:2025-03-27 01:27:33
MESSAGE:
Prompts: adding delimiters and dealing with empty

COMMIT: 22a1728
DATE:2025-03-27 01:11:04
MESSAGE:
Prompts to handle max_new_words and max_new_phrases
UNTESTED

COMMIT: 899a2de
DATE:2025-03-27 01:10:31
MESSAGE:
Trying to get Supabase_local MCP to work
I don't think this succeeded

COMMIT: 4564c34
DATE:2025-03-26 22:47:47
MESSAGE:
Tidying sourcefile processing and more robust

COMMIT: 1b618f6
DATE:2025-03-26 19:59:04
MESSAGE:
Add more languages

COMMIT: b6f2bb3
DATE:2025-03-26 19:42:20
MESSAGE:
Docs and tweaks

COMMIT: 1c248bc
DATE:2025-03-23 23:28:02
MESSAGE:
Fix failing sourcefile tests with improved mocks and test approach. Accept redirects in test environment since we're verifying DB state directly, not response status codes.

COMMIT: ec368fb
DATE:2025-03-23 23:22:38
MESSAGE:
Fix failing sourcefile view tests: slugify filenames in create_from_text, fix audio test assertions

COMMIT: 7451ab6
DATE:2025-03-23 23:13:50
MESSAGE:
Fix 500 error on phrases page by adding proper Undefined checks for JSON serialization

COMMIT: 7faa1df
DATE:2025-03-23 16:33:52
MESSAGE:
Frontend seems to work with --prod-frontend
and not showing "Loading xxx component"

COMMIT: 51174d7
DATE:2025-03-23 15:26:39
MESSAGE:
.cursorignore show logs

COMMIT: 9fc1efe
DATE:2025-03-23 15:26:29
MESSAGE:
Using Jinja globals - working

COMMIT: a0c28df
DATE:2025-03-23 15:04:01
MESSAGE:
Working frontend local/prod testing, but still feels over-complicated

COMMIT: 1f57606
DATE:2025-03-23 12:09:14
MESSAGE:
Consolidate Vite helpers and fix environment detection
- Create unified Vite helpers implementation in utils/vite_helpers.py
- Add backward compatibility for existing code
- Fix environment detection in base_svelte.jinja
- Remove redundant code trying to load from both environments
- Update imports in api/index.py to use consolidated helpers
- Update planning document with latest progress
COMMIT: b7e41e3
DATE:2025-03-23 12:05:50
MESSAGE:
Add production frontend testing improvements
- Add LOCAL_CHECK_OF_PROD_FRONTEND environment variable
- Update run_flask.sh to accept --prod-frontend flag
- Fix vite helper registration in Flask context
- Add robust vite manifest handling with debugging endpoint
- Implement component loading indicators and error display
- Add fallback mechanism for asset loading
- Create planning document for tracking improvements
COMMIT: 1d9460d
DATE:2025-03-23 12:05:22
MESSAGE:
MCP servers

COMMIT: 8fd554e
DATE:2025-03-23 04:03:50
MESSAGE:
Breadcrumbs

COMMIT: 2a32330
DATE:2025-03-23 04:03:35
MESSAGE:
Refactor sort options template to simplify and remove if/elif chains
- Modified _sort_options.jinja to accept list_endpoint parameter
- Updated parent templates to provide the correct list_endpoint value
- Added default handling for show_commonality parameter
- Made phrases template use same sort options pattern as other templates


COMMIT: bb90d82
DATE:2025-03-23 03:32:59
MESSAGE:
Output Vite logs to both file and stdout

COMMIT: 1455023
DATE:2025-03-23 03:16:03
MESSAGE:
Skip test_random_flashcard_vw

COMMIT: 9aa8c43
DATE:2025-03-23 02:47:40
MESSAGE:
Move frontend and generation earlier in deploy

COMMIT: 70f31aa
DATE:2025-03-23 02:46:33
MESSAGE:
Update all Svelte components to use URL registry
Instead of hardcoded URL strings, Svelte components now use the URL registry system:
- FlashcardApp.svelte: Use resolveRoute for lemma data, navigation, and links
- FlashcardLanding.svelte: Use resolveRoute for flashcard URLs
- MiniWordform.svelte: Use resolveRoute for fetching word previews


COMMIT: 04fab35
DATE:2025-03-23 02:41:28
MESSAGE:
Fix audio URL in Sentence.svelte using URL registry
Used RouteName and resolveRoute from the URL registry to resolve the audio source URL correctly instead of hardcoded paths. This fixes the 404 error for audio playback.


COMMIT: 6421dfa
DATE:2025-03-23 02:27:40
MESSAGE:
Avoid circular dependencies

COMMIT: 9342778
DATE:2025-03-23 02:27:16
MESSAGE:
Updated import

COMMIT: 9c55dd4
DATE:2025-03-23 02:27:02
MESSAGE:
Remove weird hardcoded hack for search_views

COMMIT: 8d63e48
DATE:2025-03-23 01:51:51
MESSAGE:
Fix circular imports

COMMIT: c9851d6
DATE:2025-03-23 01:46:39
MESSAGE:
Delete flask_view_utils.py

COMMIT: ebaf013
DATE:2025-03-23 01:46:25
MESSAGE:
Use endpoint_for in Python code

COMMIT: da3ffcb
DATE:2025-03-23 01:44:05
MESSAGE:
Replace redirect_to_view with redirect(url_for(endpoint_for())) pattern

COMMIT: e4fd50c
DATE:2025-03-23 01:33:28
MESSAGE:
Fix route names in JavaScript files to match routes.ts definitions

COMMIT: 6958881
DATE:2025-03-23 01:25:53
MESSAGE:
Removing machinery for endpoint_for in templates

COMMIT: 750106d
DATE:2025-03-23 01:25:12
MESSAGE:
Remove endpoint_for from additional templates, update test utils and view functions

COMMIT: c5e9f6b
DATE:2025-03-23 01:22:03
MESSAGE:
Replace endpoint_for with direct endpoint strings in templates

COMMIT: 0615521
DATE:2025-03-22 22:02:23
MESSAGE:
Gah, it's a mess. Lots of fixes, but still so many more

COMMIT: 95ba538
DATE:2025-03-22 20:38:43
MESSAGE:
Create 250322_REST_url_tidying_proposal.md

COMMIT: 4f1d167
DATE:2025-03-22 20:29:23
MESSAGE:
Trying to be surgical about renaming target_language_code

COMMIT: fd640e9
DATE:2025-03-22 20:25:14
MESSAGE:
More build_url_with_query and languages_list_vw rename

COMMIT: 58c9a6a
DATE:2025-03-22 20:23:21
MESSAGE:
Renamed languages_vw -> languages_list_vw

COMMIT: f850fa5
DATE:2025-03-22 20:04:31
MESSAGE:
Obsolete docs

COMMIT: b1f93a1
DATE:2025-03-22 20:03:57
MESSAGE:
Updating urls and machinery

COMMIT: 92ebb70
DATE:2025-03-22 20:03:39
MESSAGE:
In progress replacing test hardcoded urls with build_url_with_query

COMMIT: 2d0a36f
DATE:2025-03-22 20:00:22
MESSAGE:
Delete routes_test.ts

COMMIT: e5c1180
DATE:2025-03-22 19:58:10
MESSAGE:
Count lines by file

COMMIT: c3e31e7
DATE:2025-03-22 19:48:44
MESSAGE:
Update JS code to use API endpoint constants instead of view constants
- Update sourcefile.js to use full API endpoint constants:
  - SOURCEFILE_API_UPDATE_SOURCEFILE_DESCRIPTION_API
  - SOURCEFILE_API_GENERATE_SOURCEFILE_AUDIO_API
  - SOURCEFILE_API_RENAME_SOURCEFILE_API
  - SOURCEFILE_API_DELETE_SOURCEFILE_API
  - SOURCEFILE_API_PROCESS_INDIVIDUAL_WORDS_API
  - SOURCEFILE_API_MOVE_SOURCEFILE_API

- Update sourcefiles.js to use API endpoints instead of view endpoints:
  - SOURCEFILE_API_DELETE_SOURCEFILE_API
  - SOURCEFILE_API_CREATE_SOURCEFILE_FROM_TEXT_API
  - SOURCEFILE_API_ADD_SOURCEFILE_FROM_YOUTUBE_API

This ensures client-side code uses the API endpoints directly rather than
the deprecated view routes, improving code organization and maintainability.


COMMIT: c5c7345
DATE:2025-03-22 19:46:34
MESSAGE:
Replace hardcoded URLs with build_url_with_query in remaining tests
- Updated test_lemma_views.py to use build_url_with_query for all routes
- Updated test_api.py to use build_url_with_query for API routes
- Maintained code comments explaining URL routing approach


COMMIT: 384e9b8
DATE:2025-03-22 19:33:57
MESSAGE:
Move API endpoints from sourcefile_views to sourcefile_api.py
This refactoring:
1. Moves all API methods from sourcefile_views.py to sourcefile_api.py
2. Updates test file references to point to API functions instead
3. Adds comments in generated routes file to mark deprecated routes
4. Removes duplicated code to make API functions the single source of truth

This improves maintainability by having API functions in a dedicated API file rather than mixed with view code.

COMMIT: d0c2c5e
DATE:2025-03-22 18:55:58
MESSAGE:
Standardize URL parameter names to target_language_code
- Updated parameter names in routes from language_code to target_language_code
- Modified view functions in sourcefile_views.py, sentence_views.py, and flashcard_views.py
- Regenerated routes.ts with consistent parameter naming
- Improves API consistency and reduces potential for bugs from mismatched parameter names


COMMIT: 6ec10c1
DATE:2025-03-22 18:23:01
MESSAGE:
Removed extraneous prefixes

COMMIT: 0b02f6b
DATE:2025-03-22 18:20:40
MESSAGE:
Improve URL registry generation for production
- Update deploy.sh to automatically generate TypeScript route definitions
- Update URL_REGISTRY.md documentation with improved development workflow
- Add test to verify TypeScript routes match Flask routes


COMMIT: 3286003
DATE:2025-03-22 18:04:04
MESSAGE:
Moved auth out of system_views and updated Blueprint prefixes

COMMIT: 9adf01b
DATE:2025-03-22 18:02:23
MESSAGE:
Add 404 error handler and fix template links
- Register custom 404 error handler in Flask app to use 404.jinja
- Fix outdated URLs in 404.jinja template to point to correct endpoints


COMMIT: 2e7cb9a
DATE:2025-03-22 17:55:23
MESSAGE:
We don't need get_route_registry

COMMIT: 3d73186
DATE:2025-03-22 17:54:52
MESSAGE:
We don't need core_api.py any more

COMMIT: 1e2fcc1
DATE:2025-03-22 17:54:41
MESSAGE:
Updating view function names and jinja imports

COMMIT: 1c673f3
DATE:2025-03-22 17:48:05
MESSAGE:
Remove route-registry-example page
- Remove the route-registry-example view function from core_views.py
- Delete the route_registry_example.jinja template file
- Clean up code formatting

The URL registry documentation in docs/URL_REGISTRY.md already contains
comprehensive examples of using the URL registry in Python, Jinja templates,
JavaScript, and TypeScript/Svelte components, making this example page redundant.


COMMIT: 676786f
DATE:2025-03-22 17:37:06
MESSAGE:
Fixed skipped wordform view smoke tests by following redirects

COMMIT: f90894f
DATE:2025-03-22 17:35:01
MESSAGE:
Consolidate test fixture functions and remove redundant code
- Enhanced fixture functions in fixtures_for_tests.py with kwargs support
- Made parameters optional with sensible defaults
- Added automatic dependency handling for related entities
- Removed redundant create_test_entity function
- Updated all callers to use specific fixture functions directly
- Updated documentation to reflect the changes


COMMIT: bb06f2f
DATE:2025-03-22 16:55:45
MESSAGE:
Fix trailing slash issue with wordforms view and use build_url_with_query for all tests
- Added trailing slash to wordforms URL route (`/lang/{lang}/wordforms/`)
- Updated utils_for_testing.py to use build_url_with_query for getting test data
- Modified test_views_smoke.py to use build_url_with_query for better URL generation
- Fixed URL patterns in test_wordform_views.py to match the new convention


COMMIT: 23c14a9
DATE:2025-03-22 16:20:09
MESSAGE:
Fixing a lot of endpoint_for

COMMIT: 53b363f
DATE:2025-03-22 15:41:06
MESSAGE:
Moved stuff out of base.jinja that we don't need there

COMMIT: 1958520
DATE:2025-03-22 15:40:48
MESSAGE:
Renamed and refactored view functions, e.g. to _vw() and _api()

COMMIT: b252091
DATE:2025-03-22 14:32:32
MESSAGE:
Fix URL registry blueprint naming consistency
- Renamed views.py to core_views.py for consistent naming pattern
- Fixed endpoint_for function to properly handle special blueprint names
- Added tests for edge cases in endpoint_for
- Updated templates and context processors to use the new view functions
- Documented the fix in planning/250317_passing_urls_to_frontend.md


COMMIT: a2ae49f
DATE:2025-03-22 14:11:10
MESSAGE:
Refactor context processor to use minimal function-based approach
- Replace large inject_view_functions() with minimal inject_base_view_functions()
- Update base.jinja to use languages_view_func instead of blueprint reference
- Fix AttributeError: 'list' object has no attribute '__module__' in endpoint_for
- Keep track of progress in planning document


COMMIT: 2ada6fa
DATE:2025-03-22 13:55:46
MESSAGE:
Fix /lang route to handle both with and without trailing slash
This ensures the language selection page is properly displayed when visiting /lang directly, matching the pattern used for other routes like /favicon.ico.


COMMIT: 2b62fe6
DATE:2025-03-22 13:45:54
MESSAGE:
Update planning document with implementation challenges
- Document Blueprint vs Function resolution issue
- Add solution approach used for endpoint_for function
- Add consideration for function naming conflicts
- Update QA section with AttributeError fix


COMMIT: a50e277
DATE:2025-03-22 13:45:03
MESSAGE:
Fix AttributeError with Blueprint objects in URL registry
- Remove Blueprint objects from view context
- Provide view functions directly in context processor
- Update templates to use direct function references instead of blueprint.function
- Organize view functions by category for maintainability
- Fix templates: phrases.jinja, sourcefiles.jinja, sourcedirs.jinja, _wordforms_list.jinja


COMMIT: f5723cc
DATE:2025-03-22 13:33:53
MESSAGE:
Update URL Registry documentation
- Add implementation status section showing completed work
- Update planning document to reflect documentation progress
- Document templates and JavaScript files that use the registry
- Mark real-world usage examples as complete


COMMIT: 95a339f
DATE:2025-03-22 13:33:17
MESSAGE:
Update more templates to use URL registry
- Update lemmas.jinja, wordforms.jinja, and phrases.jinja to use endpoint_for
- Update partial templates (_wordforms_list.jinja) to use endpoint_for
- Update view functions to pass view references to templates
- Ensure consistent refactoring-proof URL generation across templates


COMMIT: a86226f
DATE:2025-03-22 13:28:09
MESSAGE:
Update URL registry planning document
- Mark completed template updates
- Update Phase 3 status to 'In Progress'
- Refine next steps for continuing the implementation
- Add details about JavaScript and template migration


COMMIT: dcc49c9
DATE:2025-03-22 13:27:26
MESSAGE:
Update sourcefiles template to use endpoint_for
- Add additional blueprint and view function references to context processor
- Update sourcefiles.jinja to use endpoint_for for all URLs
- Includes sourcedir views and sourcefile views endpoints


COMMIT: bbedcf9
DATE:2025-03-22 13:26:26
MESSAGE:
Implement URL registry for templates and JavaScript
- Added endpoint_for to global context processor
- Created view function references in context processor
- Updated base.jinja to use endpoint_for
- Updated sourcedirs.jinja to use endpoint_for with view references
- Updated sourcefiles.js and sentence.js to use resolveRoute
- Updated planning document with progress


COMMIT: 940382a
DATE:2025-03-22 13:22:16
MESSAGE:
Update CLAUDE.md

COMMIT: 8a9aaf4
DATE:2025-03-22 13:22:09
MESSAGE:
Moved list_code_files.py -> scripts/utils/

COMMIT: 92a7743
DATE:2025-03-22 13:16:21
MESSAGE:
Remove URL demo page
- Removed demo template and view function as it's no longer needed
- Moving to a more integrated approach with endpoint_for


COMMIT: 62bd62c
DATE:2025-03-22 13:02:56
MESSAGE:
Add Jinja template example for URL registry
- Created demo page showing URL generation with endpoint_for
- Fixed function name for sourcedirs_for_language
- Added example of how nested function calls work in templates


COMMIT: d1f9067
DATE:2025-03-22 13:00:06
MESSAGE:
Add Jinja template URL demo
- Add URL demo template with endpoint_for usage example
- Inject endpoint_for into all templates via context processor
- Add URL demo route in system_views.py


COMMIT: b423c3a
DATE:2025-03-22 12:56:37
MESSAGE:
Add Jinja template integration for URL registry, examples, and documentation
- Added comprehensive documentation for Jinja template URL generation
- Created example Svelte component using TypeScript route utilities
- Updated sourcefile.js to use resolveRoute for all API requests
- Added route registry example page to demonstrate TypeScript integration
- Added detailed analysis of Jinja template approaches in planning document
- Implemented endpoint_for for refactoring-proof templates


COMMIT: 1a9b45a
DATE:2025-03-22 12:26:40
MESSAGE:
Update URL registry planning document
- Reorganized planning document for better clarity
- Added action items for remaining work
- Moved rejected options to an appendix
- Updated implementation progress


COMMIT: 4220ec8
DATE:2025-03-22 12:19:48
MESSAGE:
Add URL registry testing utilities and tests
- Added build_url_with_query helper function for tests to safely create URLs with query parameters
- Added get_route_registry helper to access the route registry in tests
- Created test_url_registry.py with tests for the URL registry functionality
- Updated URL_REGISTRY.md with testing examples and best practices


COMMIT: 8aae12d
DATE:2025-03-22 12:17:24
MESSAGE:
Add endpoint_for function and improve documentation
- Added endpoint_for function to make url_for more robust against function renames
- Updated documentation to explain TypeScript enum benefits
- Removed unnecessary code complexity after weighing trade-offs


COMMIT: 68ab949
DATE:2025-03-22 12:11:34
MESSAGE:
Implement URL registry for frontend and template use
This implements Option 4 from planning/250317_passing_urls_to_frontend.md:
- Added utils/url_registry.py with functions to generate route registry from Flask app.url_map
- Added context processor to inject routes into templates
- Created JavaScript utility for resolving routes on the client side
- Created a test page to visualize and test routes
- Updated sourcedirs.js as proof of concept
- Added documentation explaining the system


COMMIT: a61eb36
DATE:2025-03-22 11:30:53
MESSAGE:
Fixed database MCP

COMMIT: 46dbe3d
DATE:2025-03-19 00:09:44
MESSAGE:
One more word preview url fix

COMMIT: 72859d6
DATE:2025-03-19 00:08:45
MESSAGE:
Removing urls() list

COMMIT: ee943a9
DATE:2025-03-19 00:08:26
MESSAGE:
Fixed broken urls for word preview and generate_audio

COMMIT: e07745f
DATE:2025-03-18 22:48:39
MESSAGE:
Fixed doc extension

COMMIT: 54189b5
DATE:2025-03-18 22:44:19
MESSAGE:
Create list_code_files.py

COMMIT: 89ce4a3
DATE:2025-03-18 01:58:52
MESSAGE:
Fix redirect loop in wordform view
- Added wordform database creation before redirect to prevent infinite redirect loops
- Used existing Wordform.get_or_create_from_metadata to create entries from search results
- Extended test to verify redirect doesn't cause a loop and database entry is created
- Fixed issue where English translation search would redirect to the same URL indefinitely


COMMIT: 7df0eda
DATE:2025-03-18 01:54:04
MESSAGE:
Delete simple.py

COMMIT: 75a2cfc
DATE:2025-03-18 01:37:15
MESSAGE:
Fix delete wordform function and update tests for new search format
- Restored delete_wordform function to wordform_views.py after it was removed during API standardization
- Updated mock_quick_search_for_wordform to return data in the new format with target_language_results and english_results
- Updated tests to match the new behavior where search with a single match redirects to the wordform page
- Modified assertions to check for "Search Results" instead of "Invalid Word" in the tests


COMMIT: 4cd2ad6
DATE:2025-03-18 01:35:27
MESSAGE:
Restored delete_wordform()
erroneously deleted as part of search changes

COMMIT: be8a804
DATE:2025-03-18 01:14:07
MESSAGE:
Add English translation search feature
This implementation enables searching for English words in non-English language sections.
When a user searches for an English word, the system will return target language words
whose translations approximately match the search term.

Key changes:
- Updated prompt template to handle both target language and English searches
- Added new template for displaying search results from both languages
- Modified wordform view to handle the new response format
- Added tests for the enhanced search functionality
- Used direct dictionary access for expected data structures to fail fast


COMMIT: 805dd39
DATE:2025-03-18 01:12:56
MESSAGE:
Update tests to use the new URL patterns
- Updated API tests to use /api/lang/... pattern
- Updated UI test URLs to use /lang/... prefix
- Updated planning document to reflect progress
- Skipped some tests that need content updates

COMMIT: a87bdc1
DATE:2025-03-18 00:52:25
MESSAGE:
Create 250317_passing_urls_to_frontend.md

COMMIT: c00d93a
DATE:2025-03-18 00:49:05
MESSAGE:
More minor steps on planning the English search

COMMIT: 0bdade2
DATE:2025-03-18 00:43:04
MESSAGE:
Next draft of prompt template for English search

COMMIT: 6e8d9d5
DATE:2025-03-18 00:33:25
MESSAGE:
Working on English search

COMMIT: 24a2e1c
DATE:2025-03-17 23:45:43
MESSAGE:
Rename doc

COMMIT: eeb4922
DATE:2025-03-17 23:44:05
MESSAGE:
Standardize API URL structure across app
This commit implements a standardized API URL structure following the pattern /api/lang/<resource>/... across the application:

- Created sentence_api.py with consistent URL patterns
- Expanded sourcefile_api.py with comprehensive API endpoints
- Updated JavaScript files to use new API URL patterns
- Fixed client-side navigation URLs to use /lang/ prefix
- Added new API endpoints to core_api documentation
- Updated test files to use new URL patterns
- Registered new blueprints in Flask app initialization

This standardization makes the API more discoverable and predictable while ensuring consistent URL patterns throughout the application.


COMMIT: 7db702d
DATE:2025-03-17 22:55:55
MESSAGE:
Update 250317_API_URL_Structure_Standardization.md

COMMIT: 03fa3f4
DATE:2025-03-17 22:45:40
MESSAGE:
Standardize API URL structure with domain-specific API files
- Create domain-specific API files with consistent URL patterns
- Implement /api/lang/<resource>/... URL schema for all endpoints
- Fix 404 error when creating new source directories
- Update JavaScript code to use new URL patterns
- Update tests to use the new URL patterns
- Create planning document for API standardization


COMMIT: 8e7c943
DATE:2025-03-17 22:44:36
MESSAGE:
Fix disabled button styling to ensure consistent size with regular buttons
Added span.button to CSS selectors to ensure disabled buttons (which are rendered as spans)
maintain the same size and appearance as regular buttons.


COMMIT: 568c30d
DATE:2025-03-17 21:27:58
MESSAGE:
Tidied up index.py

COMMIT: 02c8bac
DATE:2025-03-17 21:12:55
MESSAGE:
Don't open lemmas in a new window

COMMIT: d6459d0
DATE:2025-03-17 01:49:31
MESSAGE:
Breadcrumbs

COMMIT: 90de93d
DATE:2025-03-17 01:46:24
MESSAGE:
Copy Vite manifest to accessible location for Vercel compatibility

COMMIT: 5832946
DATE:2025-03-17 01:44:08
MESSAGE:
Fix URL structure for audio generation in Sentence component
- Update API routes in sentence_views.py to support the /lang/api prefix format
- Update Sentence.svelte component to use consistent URL format for:
  - Audio generation API calls
  - Audio player source path
  - Lemma links


COMMIT: 2a56d4f
DATE:2025-03-17 01:43:10
MESSAGE:
Add draft investigation document for Svelte CSS loading issues

COMMIT: 452265a
DATE:2025-03-17 01:37:41
MESSAGE:
Minor breadcrumbs fix

COMMIT: 46f4cca
DATE:2025-03-17 01:33:31
MESSAGE:
Update MIGRATIONS.md

COMMIT: 2b9744c
DATE:2025-03-17 01:30:52
MESSAGE:
Update 029_add_profile_table.py

COMMIT: 5a1dbb2
DATE:2025-03-17 00:57:20
MESSAGE:
Fix Svelte components CSS loading in production
- Added dedicated Flask route to serve CSS files dynamically
- Modified template to use a consistent CSS path that doesn't depend on hash values
- Simple solution that automatically adapts to new CSS files after rebuilds


COMMIT: 34d336a
DATE:2025-03-17 00:38:46
MESSAGE:
Update CLAUDE.md

COMMIT: a5aa6cc
DATE:2025-03-17 00:38:41
MESSAGE:
Fixed tooltips with new URL structure

COMMIT: 93168b8
DATE:2025-03-17 00:16:55
MESSAGE:
Fix auth redirection and profile form issues
- Fix profile.jinja form action URL to use correct endpoint (auth_views.profile_page)
- Fix AuthPage.svelte handleAuthSuccess to preserve paths and prevent loss of /profile URL in redirects


COMMIT: 01cd5a6
DATE:2025-03-16 23:39:31
MESSAGE:
Restructure URLs with consistent prefixes
Reorganize URL structure to use consistent prefixes for different types of routes:
- /lang/* - Language-related routes (wordforms, lemmas, flashcards, etc.)
- /auth/* - Authentication-related routes (login, profile, etc.)
- /sys/* - System-related routes (health check, etc.)
- /api/* - API endpoints (unchanged)

This provides better organization and avoids routing conflicts between
language routes (previously /el/*) and authentication routes (/auth/*).

Other changes:
- Renamed /languages to /lang for consistency
- Updated tests and documentation to match new URL structure
- Removed the /vercel-test endpoint
- Added fallback routes for backward compatibility


COMMIT: 0a251ed
DATE:2025-03-16 23:35:45
MESSAGE:
Improved Flask logging

COMMIT: dc81578
DATE:2025-03-16 22:23:00
MESSAGE:
Fix profile page redirect and template errors
- Fixed profile page template to explicitly include target_language_name
- Improved page_auth_required decorator to handle redirect URLs better
- Enhanced UserStatus component to avoid trailing slash issues


COMMIT: 5f01958
DATE:2025-03-16 22:21:12
MESSAGE:
Remaining update for app.py -> index.py

COMMIT: 9c3fd75
DATE:2025-03-16 22:20:55
MESSAGE:
Auth v1 nearly works
- still an issue with the profile page

COMMIT: 7fd6a78
DATE:2025-03-16 22:11:26
MESSAGE:
Fix profile page route to handle language codes properly
- Updated profile route to handle language codes and trailing slashes
- Added target_language_code=None to profile template context to avoid errors
- Improved UserStatus component to ensure clean profile URL link


COMMIT: 0d599fe
DATE:2025-03-16 22:09:16
MESSAGE:
Fix auth redirect issue with trailing slashes
- Fixed issue where auth redirect with trailing slash causes language code error
- Added check in AuthPage component to remove trailing slash from auth URLs
- Added server-side handling to redirect /auth/ to /auth


COMMIT: 20e8e10
DATE:2025-03-16 21:55:38
MESSAGE:
Updated Supabase authentication implementation details
- Transformed original plan into implementation report
- Documented completed work on Supabase authentication
- Added details on challenges faced and solutions implemented
- Included code samples and future improvement recommendations


COMMIT: 0d8747e
DATE:2025-03-16 20:47:52
MESSAGE:
Updated Supabase auth plan

COMMIT: 97e1e74
DATE:2025-03-16 20:47:22
MESSAGE:
Move search views to dedicated search_views.py file
- Extract search-related routes from views.py to a new search_views.py file
- Update template references to use new 'search' blueprint instead of 'views'
- Register the new blueprint in app initialization and tests
- Fix tests to accommodate the new blueprint organization

This change improves code organization by separating search functionality
into its own file following the application's modular architecture.


COMMIT: 4109ed9
DATE:2025-03-16 20:38:23
MESSAGE:
Fixed url encoding for search views

COMMIT: 26572ec
DATE:2025-03-16 19:50:01
MESSAGE:
Update references from Fly.io to Vercel

COMMIT: dcac61b
DATE:2025-03-16 19:47:36
MESSAGE:
Fix migrate.sh to automatically load environment variables
- Add automatic sourcing of environment variables from .env.prod
- Improve error handling when .env.prod is missing
- Make the production migration script more robust and effortless to use


COMMIT: f71e4bd
DATE:2025-03-16 19:41:37
MESSAGE:
Fixed Vercel migrations

COMMIT: 00c0845
DATE:2025-03-16 19:30:57
MESSAGE:
Implement WhiteNoise for static file serving in Vercel serverless environment
- Add WhiteNoise dependency to requirements.txt
- Configure WhiteNoise in Flask app with compression and caching
- Remove explicit static file route from vercel.json (handled by WhiteNoise)
- Update migration planning document to mark WhiteNoise implementation as complete


COMMIT: 3f5010d
DATE:2025-03-16 19:27:21
MESSAGE:
Add description field to Sourcedir model
- Created migration 028_add_sourcedir_description.py to add description field to Sourcedir model
- Updated db_models.py with the new field
- Added description display and edit UI to sourcefiles.jinja template
- Added API endpoint for updating sourcedir descriptions
- Added JavaScript functions for editing/saving descriptions
- Moved description paragraph styling to base.css for consistency


COMMIT: da24ab4
DATE:2025-03-16 17:14:53
MESSAGE:
Removing Hello World Vercel app

COMMIT: a494e64
DATE:2025-03-16 17:09:40
MESSAGE:
Create 250701_Supabase_Authentication_Integration.md

COMMIT: 2b498eb
DATE:2025-03-16 17:05:33
MESSAGE:
Update 250316_vercel_url_encoding_fix.md

COMMIT: 79022b0
DATE:2025-03-16 17:02:57
MESSAGE:
Fix tooltip preview by adding explicit URL unquote to API endpoints
Added explicit URL unquoting to both word-preview and phrase-preview API
endpoints to handle Greek character encoding properly in Vercel environment.
This follows the "defense in depth" approach mentioned in the URL encoding fix
planning document, where middleware alone wasn't sufficient.


COMMIT: 7c71259
DATE:2025-03-16 16:57:30
MESSAGE:
Add Delete button to sourcefile view

COMMIT: f527b68
DATE:2025-03-16 16:30:53
MESSAGE:
Fix Svelte component styling in production environment
This commit resolves styling issues with Svelte components in production by:
- Adding CSS manifest loading to the Flask app
- Configuring Vite to generate a single CSS file instead of code-splitting
- Explicitly loading the CSS file in the base_svelte template
- Adding fallback paths for when the manifest isn't available


COMMIT: d776ee0
DATE:2025-03-16 16:26:46
MESSAGE:
Sort sourcefiles case-insensitively
Modified sorting of sourcefiles to use case-insensitive comparison with fn.LOWER() in sourcedir_views.py and sourcedir_utils.py. This creates a more natural ordering where "alpha.txt", "Alpha.txt", and "ALPHA.txt" will be sorted together regardless of case.


COMMIT: 3d06109
DATE:2025-03-16 16:00:26
MESSAGE:
Gitignore screenshots

COMMIT: 13f8e4f
DATE:2025-03-16 16:00:19
MESSAGE:
Add Practice Flashcards buttons to language pages
- Add Practice Flashcards button to language index page (/el/)
- Style the buttons consistently with existing design patterns

COMMIT: 1e503c5
DATE:2025-03-16 15:58:01
MESSAGE:
Preserve original title when creating sourcefiles from text
Previously, when creating a sourcefile from text, the title was being slugified
for the filename, leading to a loss of special characters in the display name.
Now that we have Sourcefile.slug for URL-friendly identifiers, we can keep
the original title as the filename for better display purposes.


COMMIT: 71d2d18
DATE:2025-03-16 15:42:37
MESSAGE:
Update URL encoding fix documentation after Vercel testing
- Add testing results from Vercel deployment
- Document approach change to defense-in-depth strategy
- Mark explicit step for restoring route handler decoding
- Refine implementation details based on real-world testing


COMMIT: 96f81be
DATE:2025-03-16 15:38:51
MESSAGE:
Fix health check URL in deploy script
Updated deploy.sh to check the correct /health-check endpoint instead of /health and to check for "healthy" in the response instead of "ok".


COMMIT: 4b2cfa2
DATE:2025-03-16 15:23:30
MESSAGE:
Improve breadcrumbs

COMMIT: 3cd8e3d
DATE:2025-03-16 15:23:09
MESSAGE:
Fix URL encoding issues with Greek characters in Vercel deployment
- Add middleware solution to handle URL decoding centrally for all routes
- Create utility functions for fixing various URL encoding scenarios
- Comment out redundant explicit URL decoding in view handlers
- Add comprehensive unit tests for URL utilities
- Update templates to correctly display language names
- Document the approach and decision in planning/250316_vercel_url_encoding_fix.md


COMMIT: a4ea8a8
DATE:2025-03-16 15:22:18
MESSAGE:
Use index.py in run_flask.sh

COMMIT: 294d21d
DATE:2025-03-16 15:21:38
MESSAGE:
Modify check_git_status.sh to ask for confirmation instead of failing

COMMIT: 0d0696e
DATE:2025-03-16 04:00:17
MESSAGE:
Trying to fix Svelte imports

COMMIT: 5b8c675
DATE:2025-03-16 03:41:52
MESSAGE:
Always build frontend assets

COMMIT: c7416b1
DATE:2025-03-16 03:26:09
MESSAGE:
We don't need set_secrets.sh

COMMIT: 0bd3172
DATE:2025-03-16 03:19:49
MESSAGE:
Update build-frontend.sh to check for api/index.py instead of app.py

COMMIT: ec61779
DATE:2025-03-16 03:08:22
MESSAGE:
Switched to functions instead of builds

COMMIT: 4441ae3
DATE:2025-03-16 02:53:47
MESSAGE:
/languages works on Vercel

COMMIT: 157506a
DATE:2025-03-16 02:21:00
MESSAGE:
Slow progess on Vercel deployment

COMMIT: 3b9026e
DATE:2025-03-16 02:07:31
MESSAGE:
simple.py works in preview

COMMIT: 5e0f5d7
DATE:2025-03-16 01:15:48
MESSAGE:
First stage of Vercel migration (NOT DEPLOYED SUCCESSFULLY)

COMMIT: c014095
DATE:2025-03-16 00:29:25
MESSAGE:
Still broken Sentence.svelte in production

COMMIT: 1cd743d
DATE:2025-03-16 00:19:11
MESSAGE:
Further simplify CSS global styles in Sentence component
Made paragraph and line break styles globally available instead of restricting to target-lang-text class, resolving CSS issues in production.


COMMIT: b0f6a3d
DATE:2025-03-16 00:14:10
MESSAGE:
Add Flask Hello World app for Vercel serverless deployment

COMMIT: b82ba62
DATE:2025-03-16 00:03:00
MESSAGE:
Fix CSS scoping issue for sentence component in production
Changed from nested :global() selectors to top-level :global() blocks for better CSS compatibility between development and production.


COMMIT: 3b5f23a
DATE:2025-03-15 23:44:16
MESSAGE:
Fix Svelte warning for unused export property
Changed FlashcardApp's targetLanguageName from 'export let' to 'export const'
since it's passed from the template but not used within the component.
This follows Svelte's best practice recommendation for props that are
only for external reference.


COMMIT: 7248bed
DATE:2025-03-15 23:29:34
MESSAGE:
Planning re hosting

COMMIT: fb36e3c
DATE:2025-03-15 23:13:44
MESSAGE:
Remove loading placeholder message from Svelte components
- Remove the "Loading component..." message that was showing in components
- Simplify the component mounting HTML structure
- Fix issue with improper JSON escaping in data attributes


COMMIT: 60c1729
DATE:2025-03-15 22:46:46
MESSAGE:
Add planning doc for Svelte ES modules standardization
- Document the standardization of Svelte component loading
- Explain reasoning behind ES modules over UMD approach
- Track completed actions and future improvements


COMMIT: 9f494b3
DATE:2025-03-15 22:45:31
MESSAGE:
Fix Svelte component loading in production
- Remove code in base.jinja that tried to load individual component scripts
- Eliminate 404 errors for non-existent component files in production
- Components now consistently load via the bundled ES module file


COMMIT: 31d2f6c
DATE:2025-03-15 22:17:03
MESSAGE:
Standardize Svelte component loading by removing UMD approach
- Convert flashcard components from UMD to standard ES modules
- Update base_svelte.jinja to improve module loading in dev and prod
- Fix error handling and add better debugging for component loading
- Update documentation to reflect consistent component loading approach
- Set vite.config.js to only build ES modules format, not UMD


COMMIT: e44f140
DATE:2025-03-15 22:16:01
MESSAGE:
Docs tidying

COMMIT: 58a438c
DATE:2025-03-15 22:15:42
MESSAGE:
Rules

COMMIT: 30cc50d
DATE:2025-03-15 22:12:40
MESSAGE:
Improve directory deletion error messages
Added more descriptive error message when a user tries to delete a directory containing files.
Updated error handling in both sourcedirs.js and sourcefiles.js to show the same helpful message.


COMMIT: cb4bdac
DATE:2025-03-15 21:49:24
MESSAGE:
Add interactive vocabulary words to flashcards
- Replace simple text list of lemma words with interactive MiniLemma components
- Add functionality to fetch lemma data from the API in stage 3
- Improve styling for vocabulary section in flashcards
- Reuse existing MiniLemma component for consistent UI across the app


COMMIT: e34a34d
DATE:2025-03-15 21:36:04
MESSAGE:
Create .cursorrules

COMMIT: a25d0f8
DATE:2025-03-15 21:30:53
MESSAGE:
Fix JSON serialization error with Anthropic client object
Fix "Processing failed: Object of type Anthropic is not JSON serializable" error
by using gjdutils.jsons.jsonify to safely convert potentially non-serializable
objects in metadata before storing in the database. This ensures that the Anthropic
client object and other non-serializable objects are properly handled.


COMMIT: 34c49c4
DATE:2025-03-15 18:07:13
MESSAGE:
Create 250317_Supabase_Realtime_for_wordforms.md

COMMIT: 59755a1
DATE:2025-03-15 18:07:09
MESSAGE:
Update CLAUDE.md

COMMIT: 6eb6fa9
DATE:2025-03-15 18:06:54
MESSAGE:
Consolidate flashcards to single implementation by merging v2 into main
- Replace flashcards v1 with the Svelte-based flashcards system (previously v2)
- Update all routes from /flashcards2 to /flashcards
- Rename template files and update templates
- Update button labels to remove "v1" and "v2" references
- Fix audio autoplay on mobile devices with HTML5 autoplay attribute
- Improve error message for audio playback failures

🤖 Generated with [Claude Code](https://claude.ai/code)

COMMIT: f393e30
DATE:2025-03-15 17:26:36
MESSAGE:
Add sourcefile/sourcedir filtering to Flashcards v2
- Added "Practice Flashcards v2" buttons to sourcefile and sourcedir pages
- Added source filter banner to display current filter context
- Enhanced FlashcardApp and FlashcardLanding components to show filtering info
- Implemented "Clear filter" button to remove current filter


COMMIT: 6ba03fd
DATE:2025-03-15 17:12:26
MESSAGE:
Fix mobile audio autoplay in flashcards by using HTML autoplay attribute
- Changed audio initialization approach to match v1 flashcards
- Added autoplay attribute to audio element in the HTML markup
- Improved error message with clearer instructions
- Removed programmatic Audio creation that was causing mobile autoplay issues


COMMIT: e3ece2f
DATE:2025-03-15 17:08:03
MESSAGE:
Create 250315_UMD_for_Svelte.md

COMMIT: 9d7ac11
DATE:2025-03-15 16:57:57
MESSAGE:
Prompt template for inflected word forms

COMMIT: c9b3713
DATE:2025-03-15 16:39:05
MESSAGE:
Include static/build in Docker deployment

COMMIT: 765bd8b
DATE:2025-03-15 16:37:46
MESSAGE:
Store screenshots

COMMIT: ebea815
DATE:2025-03-15 16:32:30
MESSAGE:
Bundle Svelte runtime into UMD build to avoid CDN dependencies
- Updated vite.config.js to bundle Svelte into UMD build
- Updated documentation in FRONTEND_INFRASTRUCTURE.md with CDN avoidance policy
- Updated flashcards2 documentation to reflect new approach
- Improved base.jinja template comments to clarify bundling strategy


COMMIT: 00bccf5
DATE:2025-03-15 16:30:01
MESSAGE:
Update .gitignore

COMMIT: 1013fb1
DATE:2025-03-15 16:27:29
MESSAGE:
Implement Svelte-based flashcards system with UMD pattern
- Fixed module loading issues using UMD pattern
- Updated ENTER keyboard shortcut to work document-wide
- Added detailed documentation about the implementation approach
- Added improved test coverage for the flashcard components
- Updated FRONTEND_INFRASTRUCTURE.md with UMD pattern guidance


COMMIT: b4080c9
DATE:2025-03-15 16:05:28
MESSAGE:
Fix Docker build: add .env.example to Docker image
- Add .env.example to the COPY command in Dockerfile
- This fixes production deployment failure where app couldn't start due to missing .env.example file
- The env_config.py module requires this file to validate environment variables


COMMIT: 2878bf1
DATE:2025-03-15 15:52:41
MESSAGE:
Fixed Sentence.svelte

COMMIT: 0aa09b5
DATE:2025-03-15 15:46:25
MESSAGE:
Disable Debug Toolbar

COMMIT: 4c59339
DATE:2025-03-15 15:43:58
MESSAGE:
Updated cursor-tools rule

COMMIT: 61a26b9
DATE:2025-03-15 15:26:18
MESSAGE:
cursor-tools

COMMIT: b52dafd
DATE:2025-03-15 15:09:23
MESSAGE:
Docs

COMMIT: c3eb2a8
DATE:2025-03-15 15:08:58
MESSAGE:
Update .cursorignore

COMMIT: ca64f7a
DATE:2025-03-15 14:59:30
MESSAGE:
Optimize sentence loading with efficient database queries
- Add get_all_sentences_for() method to Sentence model
- Use a two-query strategy to avoid N+1 database queries
- Fetch sentences first, then efficiently fetch all related lemmas
- Preload lemma data to eliminate per-sentence queries
- Fix template issue with undefined vite_entries variable


COMMIT: 185d87d
DATE:2025-03-15 14:53:58
MESSAGE:
Optimize Docker image size
- Update .dockerignore to exclude unnecessary directories (backup, logs, tests, etc.)
- Modify Dockerfile to use explicit COPY instead of COPY . .
- Only include files needed for production
- Remove spacy from requirements.txt as it's not used in the codebase
- Add pip cache purge to further reduce image size


COMMIT: 798eba7
DATE:2025-03-15 14:35:11
MESSAGE:
Add frontend logging to capture Vite dev server output
- Configure run_frontend_dev.sh to redirect Vite console output to logs/vite_dev.log
- Implement line limiting (200 lines) similar to backend logger
- Update documentation in CODING.md, DEVOPS.md, and CLAUDE.md with logging details
- Improve debuggability for both frontend and backend components


COMMIT: 0039586
DATE:2025-03-15 14:14:35
MESSAGE:
Fix Sentence.svelte component rendering issue
- Ensure clean component mounting by clearing target elements before rendering
- Add fallback for HTML content in enhanced_sentence_text
- Fix CSS styling for nested HTML elements within the greek-text section
- Add cleanup mechanism to prevent duplicate component rendering
- Document findings and solutions for future reference


COMMIT: e69124c
DATE:2025-03-15 13:54:43
MESSAGE:
Fix Svelte components in production using library mode
- Implement Vite's library mode for component building
- Create central component registry in index.ts
- Update base_svelte.jinja to load from unified bundle
- Update documentation for new component workflow
- Fix component loading errors in production environment

This change shifts from individual component files to a single
component bundle with a registry pattern, fixing the empty
component file issue in production builds.


COMMIT: 2d19705
DATE:2025-03-15 13:40:30
MESSAGE:
Renamed planning docs

COMMIT: a4665c0
DATE:2025-03-15 13:18:31
MESSAGE:
Fix URL paths for Svelte components in production
- Update base_svelte.jinja to use correct *.js file pattern
- Add fallback content for components while loading
- Add planning document outlining Svelte component loading issues
- Enhance debugging output for component loading in production


COMMIT: 09f7533
DATE:2025-03-15 13:16:13
MESSAGE:
Add Svelte-based flashcards2 system with staged learning
This commit adds a new flashcard system built with Svelte and TypeScript:
- Created flashcard2_views.py with routes mirroring the original flashcard system
- Added JSON API endpoints for retrieving sentence data
- Implemented pure TypeScript functions for state management
- Created Svelte components for flashcard display and navigation
- Added keyboard shortcuts and responsive design

This is the first stage of a planned incremental rollout, with many more features
to be added in subsequent stages. This initial implementation provides the core
functionality of audio → sentence → translation progression.


COMMIT: bfe8191
DATE:2025-03-15 13:07:13
MESSAGE:
Simplify and fix frontend tests
- Updated test fixtures to handle existing data with get_or_create pattern
- Simplified frontend tests to remove debugging-focused code
- Changed Flask test port to avoid conflicts
- Added skip markers to frontend component tests requiring special setup
- Used patterns from backend tests for improved consistency


COMMIT: 9f9d5f5
DATE:2025-03-15 12:14:58
MESSAGE:
Create CLAUDE.md

COMMIT: 7b910cf
DATE:2025-03-15 03:51:04
MESSAGE:
Fix Svelte components in production environment
- Add custom Vite plugin to ensure component exports are correctly generated
- Fix component URL path in production template (remove -entry.js suffix)
- Enhance Svelte compiler options for better production output
- Improve build configuration with sourcemaps and proper module format


COMMIT: aa296fb
DATE:2025-03-15 03:50:29
MESSAGE:
Fix PostgreSQL query issue with DISTINCT and ORDER BY
- Fixed a PostgreSQL error where ORDER BY expressions must appear in SELECT list when using DISTINCT
- Modified get_all_lemmas_for in Lemma model to include fn.Lower(cls.lemma) in SELECT list
- Simplified get_sourcefile_lemmas and get_sourcedir_lemmas to use direct, reliable queries
- Updated tests to focus on backend behavior rather than frontend rendering


COMMIT: d26a72f
DATE:2025-03-15 03:43:57
MESSAGE:
Prevent slashes in lemmas and wordforms to avoid URL routing issues
- Added explicit instructions to all relevant prompt templates
- Ensures lemmas and wordforms generated by LLM won't contain slashes
- Simpler solution than adding slug fields or URL encoding


COMMIT: 87b7a3b
DATE:2025-03-15 03:26:03
MESSAGE:
Add MiniPhrase Svelte component for consistent phrase display
- Create MiniPhrase Svelte component for displaying phrases with consistent styling
- Add phrase-preview API endpoint for future tooltip functionality (currently disabled)
- Update templates to use MiniPhrase in sourcefile_phrases.jinja, phrases.jinja, and phrase.jinja
- Improve visual distinction between phrases and regular words with light blue background


COMMIT: bf59295
DATE:2025-03-15 03:06:40
MESSAGE:
Add include_junction_data parameter to query methods

COMMIT: 8034895
DATE:2025-03-15 03:02:40
MESSAGE:
Simplify database query methods for cleaner API
- Remove sourcedir_slug and sourcefile_slug arguments from get_all_phrases_for()
- For both get_all_phrases_for() and get_all_wordforms_for(), automatically perform join when sourcefile is provided
- Remove include_junction_data parameter as it's now implicit
- Unify return behavior across methods for consistent API
- Update documentation to reflect changes


COMMIT: 97b96a3
DATE:2025-03-15 02:54:25
MESSAGE:
Fix Svelte component loading in production environment
- Remove incorrect '-entry' suffix from production JS imports to match Vite output
- Fix debugLog function to be a proper no-op in production
- Simplify component loading code for better reliability
- Remove redundant debug logging and fetch test


COMMIT: c56ad3e
DATE:2025-03-15 02:42:15
MESSAGE:
Remove legacy get_all_for_language methods for simplicity
- Removed Wordform.get_all_for_language legacy method
- Removed Lemma.get_all_for_language legacy method
- Removed Phrase.get_all_for_language legacy method
- All code now uses the new optimized methods directly

COMMIT: 5d716fb
DATE:2025-03-15 02:38:18
MESSAGE:
Add logs directory to gitignore
- Ignore logs/ directory and all *.log files
- Prevent log files from being tracked in the repository


COMMIT: 1dc557a
DATE:2025-03-15 02:37:36
MESSAGE:
Update remaining use of Lemma.get_all_for_language in store_utils.py

COMMIT: 82a7a93
DATE:2025-03-15 02:37:19
MESSAGE:
Add Lemma.get_all_lemmas_for() method and update related code
- Created new get_all_lemmas_for() method with support for filtering by sourcedir or sourcefile
- Updated lemma_views to use the new optimized method
- Simplified get_sourcedir_lemmas and get_sourcefile_lemmas using the new method
- Maintained backward compatibility with legacy get_all_for_language()

COMMIT: cf276a5
DATE:2025-03-15 02:36:24
MESSAGE:
Add commonality sorting to get_all_wordforms_for and update wordform_views
- Added commonality sorting option to Wordform.get_all_wordforms_for() method
- Updated wordforms_list view to use the enhanced query method
- Simplified sorting logic by centralizing it in the model method

COMMIT: aa19778
DATE:2025-03-15 02:35:49
MESSAGE:
Add line-limited logging with loguru
- Replace standard logging with loguru for improved formatting and features
- Create LimitingFileWriter class to maintain logs at max 100 lines
- Set up interception for Flask/Werkzeug logs to capture all web requests
- Refactor logging code into utils/logging_utils.py for better organization
- Maintain backward compatibility with existing oneoff scripts
- Add loguru dependency to requirements.txt


COMMIT: 923b234
DATE:2025-03-15 02:29:06
MESSAGE:
Show mobile upload options based on device detection instead of screen width
- Added isMobileOrTablet() device detection function to base.js
- Modified sourcefiles.jinja to remove media query for mobile upload display
- Updated sourcefiles.js to control mobile options visibility using device detection
- Improved user experience by showing camera/photo buttons only on actual mobile devices


COMMIT: 024f80c
DATE:2025-03-15 02:27:44
MESSAGE:
Optimize sourcefile view functions with improved database query methods
- Added support for object-based filtering in Wordform.get_all_wordforms_for() and Phrase.get_all_phrases_for()
- Added include_junction_data option to avoid N+1 queries
- Simplified sourcefile view helper functions to use optimized database queries
- Maintained backward compatibility with slug-based filtering

COMMIT: 5aaa39d
DATE:2025-03-15 02:17:53
MESSAGE:
Add MiniWordformList component for better encapsulation
- Create new MiniWordformList Svelte component and entry point
- Update vite.config.js to include new entry point
- Replace individual MiniWordform instances with MiniWordformList in templates:
  - _wordforms_list.jinja
  - lemma.jinja (Related Words, Synonyms, Antonyms, Example Wordforms)
  - phrase.jinja (Component Words section)
  - Update template imports in sourcefile_words.jinja and wordforms.jinja


COMMIT: e6e490f
DATE:2025-03-15 01:43:35
MESSAGE:
Fix inconsistent Svelte entry naming in vite.config.js
Updated vite.config.js to use consistent entry file naming without the '-entry' suffix, matching actual files in the src/entries directory and following documented best practices.


COMMIT: c0278ba
DATE:2025-03-15 01:39:03
MESSAGE:
Enhance sentence view with rich lemma displays
- Add API endpoint to fetch detailed lemma information
- Replace simple lemma links with MiniLemma Svelte component in sentences
- Show full lemma info including part of speech and translations
- Improve lemma detection by combining database links and matched wordforms
- Add loading indicator during lemma data fetching


COMMIT: e68eb3d
DATE:2025-03-15 01:21:20
MESSAGE:
Fixing Svelte naming issues

COMMIT: 89d61f7
DATE:2025-03-15 01:13:46
MESSAGE:
Static local versions of most js and css

COMMIT: d23bb52
DATE:2025-03-15 00:10:24
MESSAGE:
Fix N+1 database query issue in sourcefile_words view
Optimized database queries in inspect_sourcefile_words() by using proper joins to prefetch related data in a single query rather than making separate queries for each record.


COMMIT: e8cfde0
DATE:2025-03-14 23:39:37
MESSAGE:
Fix Svelte component naming and loading issues
- Renamed miniwordform-entry.ts to miniwordform.ts to match naming conventions
- Updated vite entries configuration to use correct file names
- Added explicit Tippy.js loading verification
- Improved error handling for component initialization


COMMIT: a285f5e
DATE:2025-03-14 23:01:24
MESSAGE:
Use MiniLemma Svelte component in lemmas.jinja

COMMIT: 334caf2
DATE:2025-03-14 22:59:50
MESSAGE:
Revert "Replace MiniWordform with MiniLemma component in wordforms list"
This reverts commit 059dc867c25cd5cca1ca1a886c5b5920f5e6a288.

COMMIT: cb0ed64
DATE:2025-03-14 22:57:39
MESSAGE:
Add ability to move sourcefiles between sourcedirs
- Add API endpoint for moving a sourcefile to a different sourcedir
- Add dropdown selector in sourcefile views to select a target directory
- Position the selector in the navigation bar for compact layout
- Exclude current sourcedir from dropdown options
- Add visual feedback during move operation
- Implement error handling with appropriate messages
- Consolidate selector styling in base.css


COMMIT: b9cd297
DATE:2025-03-14 22:43:57
MESSAGE:
Add rename button to sourcefile header
• Added a button to rename sourcefiles in the header template
• Leverages existing backend endpoint and JavaScript functionality


COMMIT: 3196423
DATE:2025-03-14 22:26:42
MESSAGE:
Fix page loading performance issues by optimizing script loading
- Add defer attribute to third-party scripts to prevent render blocking - Move base.js to end of document with defer attribute - Add error handling for Tippy.js to prevent script errors from blocking page - Add minilemma entry point to Vite configuration

COMMIT: 059dc86
DATE:2025-03-14 22:16:16
MESSAGE:
Replace MiniWordform with MiniLemma component in wordforms list

COMMIT: 57cb8f0
DATE:2025-03-14 22:00:38
MESSAGE:
Add MiniLemma Svelte component for displaying lemma entries

COMMIT: e28662e
DATE:2025-03-14 21:49:51
MESSAGE:
updated docs for Svelte front-end debugging

COMMIT: deb79f1
DATE:2025-03-14 21:42:53
MESSAGE:
Update .cursorignore

COMMIT: 450dc66
DATE:2025-03-14 20:55:03
MESSAGE:
Updated mcp

COMMIT: 1c25986
DATE:2025-03-14 20:16:44
MESSAGE:
Updated the frontend documentation

COMMIT: aafa884
DATE:2025-03-14 20:16:33
MESSAGE:
Experim frontend view

COMMIT: 51f8d2f
DATE:2025-03-14 20:01:48
MESSAGE:
Fixed browser-tools-mcp

COMMIT: f3d55d0
DATE:2025-03-14 20:01:29
MESSAGE:
More mobile CSS changes

COMMIT: f972181
DATE:2025-03-14 19:15:40
MESSAGE:
Reduce margins and increase font size on mobile (UNTESTED)

COMMIT: 54531c9
DATE:2025-03-14 18:32:43
MESSAGE:
First attempt at MCP

COMMIT: ee24368
DATE:2025-03-14 18:32:30
MESSAGE:
Supabase init

COMMIT: e9250aa
DATE:2025-03-09 17:15:58
MESSAGE:
Allow for phrase commonality & guessability to be None

COMMIT: fd65466
DATE:2025-03-09 16:51:25
MESSAGE:
Reduce number of threads for processing

COMMIT: 83be621
DATE:2025-03-03 01:30:40
MESSAGE:
Using MiniWordform for wordforms.jinja

COMMIT: 9eba7f3
DATE:2025-03-03 01:09:14
MESSAGE:
MiniWordform sort of has working tooltips

COMMIT: c74f8a3
DATE:2025-03-03 00:53:13
MESSAGE:
More MiniWordforms in lemma.jinja

COMMIT: a338240
DATE:2025-03-03 00:49:30
MESSAGE:
MiniWordform v1

COMMIT: a273e81
DATE:2025-03-03 00:24:01
MESSAGE:
Fixed commonality sort for lemmas

COMMIT: 1a81f9a
DATE:2025-03-03 00:21:09
MESSAGE:
Don't need this doc any more

COMMIT: b759505
DATE:2025-03-03 00:20:57
MESSAGE:
Handle missing phrase commonality

COMMIT: 689bca5
DATE:2025-03-03 00:14:08
MESSAGE:
Don't lower-case wordforms for proper nouns

COMMIT: 5527f7c
DATE:2025-03-03 00:13:57
MESSAGE:
Added MiniSentence component to lemma view

COMMIT: d60bc2c
DATE:2025-03-02 23:16:12
MESSAGE:
Fixed tests

COMMIT: 8655b65
DATE:2025-03-02 23:09:21
MESSAGE:
Separate Sourcefile text/words/phrases tabs

COMMIT: 76195f9
DATE:2025-03-02 22:48:13
MESSAGE:
Added Sentence playback speed

COMMIT: fca22a8
DATE:2025-03-02 22:36:20
MESSAGE:
Fixed link

COMMIT: fdf6b06
DATE:2025-03-02 22:23:27
MESSAGE:
Sentence works with Svelte and ok styling
But lemma is broken

COMMIT: 4a93050
DATE:2025-03-02 21:55:56
MESSAGE:
Got rid of Tailwind

COMMIT: 272b2ac
DATE:2025-03-02 21:34:57
MESSAGE:
Failing to get Tailwind to work with Sentence

COMMIT: 234e8fc
DATE:2025-03-02 21:13:42
MESSAGE:
More lemma CSS changes - not so sure about Tailwind

COMMIT: f92e27e
DATE:2025-03-02 21:00:18
MESSAGE:
New Tailwind base styles, lemma.jinja

COMMIT: 1b8e870
DATE:2025-03-02 20:15:46
MESSAGE:
helloworld_newtech works with simple env switching

COMMIT: 85aef0a
DATE:2025-03-02 19:34:43
MESSAGE:
First set of changes for helloworld Vite etc

COMMIT: e5972ab
DATE:2025-03-02 18:45:44
MESSAGE:
Tidy up tests

COMMIT: 6adfd4d
DATE:2025-03-02 17:53:46
MESSAGE:
Changing db connections config

COMMIT: 2a57157
DATE:2025-03-02 17:24:57
MESSAGE:
Fixed utils path issue

COMMIT: 0b53e95
DATE:2025-03-02 17:21:27
MESSAGE:
Added lots of other cascade constraints

COMMIT: 93547bd
DATE:2025-03-02 16:53:11
MESSAGE:
More test fixes

COMMIT: e6584aa
DATE:2025-03-02 16:41:30
MESSAGE:
Fixes for renamed Greek language in config

COMMIT: d390a6e
DATE:2025-03-02 16:39:21
MESSAGE:
Fixed description issue in tests and other syntax error

COMMIT: 606f673
DATE:2025-03-02 16:29:02
MESSAGE:
Cursor don't ignore .env.*

COMMIT: 23f5256
DATE:2025-03-02 16:26:35
MESSAGE:
Failed case-insensitive wordform and lemma sorting

COMMIT: bd0f0d5
DATE:2025-03-02 16:15:17
MESSAGE:
Added phrase slug

COMMIT: 608605a
DATE:2025-03-02 16:03:02
MESSAGE:
Fixed hard-coded link to /el/

COMMIT: 65bf797
DATE:2025-03-02 15:55:56
MESSAGE:
Tidying up docs etc re testing

COMMIT: b783856
DATE:2025-03-02 15:43:28
MESSAGE:
Tweaks to prompt template for wordforms

COMMIT: f4707b3
DATE:2025-03-02 15:43:12
MESSAGE:
Tweak to Greek language display, and to prompt templates re modern

COMMIT: 234cc8b
DATE:2025-03-02 15:22:16
MESSAGE:
Docs

COMMIT: 7834a8a
DATE:2025-03-02 15:22:12
MESSAGE:
Cascade delete wordform

COMMIT: e443121
DATE:2025-02-25 01:23:33
MESSAGE:
Fixed 019 migration (and added migrate_local_to_prod.sh)

COMMIT: 7c864bf
DATE:2025-02-25 01:09:53
MESSAGE:
Update 019_standardize_unicode_normalization.py

COMMIT: 7b6444c
DATE:2025-02-25 00:57:49
MESSAGE:
Add ON DELETE CASCADE constraints to sourcefile relations and simplify delete_sourcefile function

COMMIT: 8606937
DATE:2025-02-25 00:48:29
MESSAGE:
Made Sourcefile buttons command-clickable and visually consistent

COMMIT: 9052d29
DATE:2025-02-25 00:37:01
MESSAGE:
Added Sourcefile.description

COMMIT: 05cde09
DATE:2025-02-25 00:30:37
MESSAGE:
Fixed normalisation tests
(not sure why they were broken already)

COMMIT: fe8e65a
DATE:2025-02-25 00:24:22
MESSAGE:
Fixed prod migrate.sh

COMMIT: 94b7e40
DATE:2025-02-25 00:23:06
MESSAGE:
Fixed migrate.sh

COMMIT: a71fe09
DATE:2025-02-25 00:22:58
MESSAGE:
Fixed migrations 017 and 019

COMMIT: dd6f305
DATE:2025-02-25 00:17:08
MESSAGE:
Removed duplicate/old db_connection.py

COMMIT: e8344f5
DATE:2025-02-25 00:01:48
MESSAGE:
Fixed the weird unicode bug with τροφή in tooltip preview

COMMIT: a375843
DATE:2025-02-24 23:11:43
MESSAGE:
Checking migrations

COMMIT: 1c5f4a5
DATE:2025-02-24 20:26:54
MESSAGE:
Pick a random voice

COMMIT: cd636c7
DATE:2025-02-23 20:53:27
MESSAGE:
Ignore gjdutils rules

COMMIT: 10af656
DATE:2025-02-17 02:34:16
MESSAGE:
Updated remaining Fly-database-related issues

COMMIT: 207f737
DATE:2025-02-17 02:25:07
MESSAGE:
Removed duplicate scripts
that somehow got returned when we did the Git fixing

COMMIT: 8af1cf2
DATE:2025-02-17 02:19:40
MESSAGE:
Merge preserved-work-main into main, keeping all recent changes

COMMIT: b6a6446
DATE:2025-02-17 02:12:20
MESSAGE:
Fixed issue with missing lemma

COMMIT: 8103e03
DATE:2025-02-17 01:49:58
MESSAGE:
Getting tests working

COMMIT: 8370bfa
DATE:2025-02-17 01:44:54
MESSAGE:
Fixed localhost database (which doesn't expect SSL)

COMMIT: 3a7f51d
DATE:2025-02-17 01:39:42
MESSAGE:
Fixed check_health.sh import

COMMIT: 2f0f21a
DATE:2025-02-17 01:23:35
MESSAGE:
Use standard pip gjdutils

COMMIT: c3e8d4e
DATE:2025-02-17 01:22:58
MESSAGE:
Update gjdutils requirement to use Git repository

COMMIT: 2439f15
DATE:2025-02-17 01:19:28
MESSAGE:
Make deployment scripts executable

COMMIT: 20cea49
DATE:2025-02-17 01:18:57
MESSAGE:
About to try first deploy with Supabase

COMMIT: 9811f4f
DATE:2025-02-17 01:04:53
MESSAGE:
Updated docs from scripts reorg

COMMIT: b677403
DATE:2025-02-17 01:00:11
MESSAGE:
Reorganised scripts
still need to update docs

COMMIT: 9ea6387
DATE:2025-02-17 00:44:47
MESSAGE:
Imported prod dump into Supabase

COMMIT: 35f3615
DATE:2025-02-17 00:13:05
MESSAGE:
Got verify_db_connection.py working

COMMIT: 9e51edd
DATE:2025-02-17 00:06:25
MESSAGE:
Moved and renamed verify_db_connection.py

COMMIT: 28b60ed
DATE:2025-02-17 00:06:14
MESSAGE:
Added export_envs.sh

COMMIT: 0645309
DATE:2025-02-17 00:06:08
MESSAGE:
Updated env_config.py to track _unprocessed, and using new env names

COMMIT: 4b1a7d8
DATE:2025-02-16 23:07:04
MESSAGE:
Gitignore .env

COMMIT: 01ceaa5
DATE:2025-02-16 22:40:52
MESSAGE:
Improved PROJECT_MANAGEMENT.md

COMMIT: 4829ebe
DATE:2025-02-16 22:36:10
MESSAGE:
refactor: Update database connection to use DATABASE_URL for Supabase
- Update env_config.py to use single DATABASE_URL

- Update db_connection.py to parse DATABASE_URL and handle SSL

- Add test script for database connection verification

COMMIT: 07a806e
DATE:2025-02-16 22:22:10
MESSAGE:
Begin Supabase migration: Update env files and docs
- Switch to DATABASE_URL connection string

- Add local-to-prod debugging mode

- Update DATABASE.md with new structure

- Create migration plan

COMMIT: a832b06
DATE:2025-02-16 21:10:39
MESSAGE:
Lower-case type

COMMIT: d7f4b26
DATE:2025-02-16 21:10:31
MESSAGE:
Renamed gdutils -> gjdutils
tests are passing

COMMIT: 15844df
DATE:2025-02-09 22:52:50
MESSAGE:
Don't require .env.fly_cloud on production

COMMIT: 503dba9
DATE:2025-02-09 22:29:56
MESSAGE:
Dockerignore .env.*

COMMIT: b800eb0
DATE:2025-02-09 22:29:46
MESSAGE:
Removed duplicate db_connection.py

COMMIT: 032dafe
DATE:2025-02-09 15:30:52
MESSAGE:
Fixed migration to use correct utils/migrate.py on Fly production webservers

COMMIT: 7a2310f
DATE:2025-02-09 15:16:49
MESSAGE:
Updated migrate_fly.sh to hopefully fix migrate.py move

COMMIT: 3d9c97b
DATE:2025-02-09 15:13:22
MESSAGE:
Hopefully sped up sentence query for flashcards

COMMIT: 187d60e
DATE:2025-02-09 14:56:48
MESSAGE:
Fixed flask secret key config

COMMIT: ed90943
DATE:2025-02-09 14:56:48
MESSAGE:
Fixed flask secret key config

COMMIT: bf73130
DATE:2025-02-09 14:53:56
MESSAGE:
Gitignore obsolete/

COMMIT: 513c9bb
DATE:2025-02-09 14:53:56
MESSAGE:
Gitignore obsolete/

COMMIT: 1c6bf2c
DATE:2025-02-09 14:53:50
MESSAGE:
Fixed test_vocab_llm_utils mock

COMMIT: a94d5e3
DATE:2025-02-09 14:53:50
MESSAGE:
Fixed test_vocab_llm_utils mock

COMMIT: 04e431c
DATE:2025-02-09 14:47:49
MESSAGE:
test_word_utils passes

COMMIT: 1db786c
DATE:2025-02-09 14:47:49
MESSAGE:
test_word_utils passes

COMMIT: 0ba4dc2
DATE:2025-02-09 13:52:26
MESSAGE:
Trying to fix word_utils.get_sourcefile_lemmas
this is a basic starting point without the db arg, rewritten from before

COMMIT: 4ace2b9
DATE:2025-02-09 13:52:26
MESSAGE:
Trying to fix word_utils.get_sourcefile_lemmas
this is a basic starting point without the db arg, rewritten from before

COMMIT: b2c6a42
DATE:2025-02-09 13:00:58
MESSAGE:
Fixed a few unit tests

COMMIT: 50bf9b2
DATE:2025-02-09 13:00:58
MESSAGE:
Fixed a few unit tests

COMMIT: cd8265a
DATE:2025-02-09 12:43:59
MESSAGE:
Fixed tests/backend/conftest import issue

COMMIT: 1d22b61
DATE:2025-02-09 12:43:59
MESSAGE:
Fixed tests/backend/conftest import issue

COMMIT: ce1d3e8
DATE:2025-02-09 12:40:14
MESSAGE:
Fixing Pydantic env_config.py linting

COMMIT: e5b7553
DATE:2025-02-09 12:40:14
MESSAGE:
Fixing Pydantic env_config.py linting

COMMIT: 0f68c03
DATE:2025-02-09 12:17:34
MESSAGE:
Moved tests/test_*.py -> tests/backend/

COMMIT: 13b6390
DATE:2025-02-09 12:17:34
MESSAGE:
Moved tests/test_*.py -> tests/backend/

COMMIT: 73a7fc2
DATE:2025-02-09 12:13:40
MESSAGE:
Some light refactoring

COMMIT: 16c7850
DATE:2025-02-09 12:13:40
MESSAGE:
Some light refactoring

COMMIT: a13d616
DATE:2025-02-09 11:57:25
MESSAGE:
Removed unused imports

COMMIT: 22a5ca3
DATE:2025-02-09 11:57:25
MESSAGE:
Removed unused imports

COMMIT: 0c2d4bf
DATE:2025-02-09 11:45:07
MESSAGE:
Moved fixtures/ -> tests/fixtures/

COMMIT: ada3c02
DATE:2025-02-09 11:45:07
MESSAGE:
Moved fixtures/ -> tests/fixtures/

COMMIT: 387f33d
DATE:2025-02-09 11:42:42
MESSAGE:
Updated references to `utils/migrate.py`

COMMIT: 89a56b5
DATE:2025-02-09 11:42:42
MESSAGE:
Updated references to `utils/migrate.py`

COMMIT: 4a471a1
DATE:2025-02-09 11:42:27
MESSAGE:
Added support for .png files
- using image filename instead of image data
- got rid of obsolete process_img_filen function & test
- checking extension against config.SOURCE_IMAGE_EXTENSIONS
- separated more generic SOURCE_EXTENSIONS from SOURCE_IMAGE_EXTENSIONS and updated callers
- added small png fixture and test
- added fixtures_for_tests image path constants

COMMIT: 73888e5
DATE:2025-02-09 11:42:27
MESSAGE:
Added support for .png files
- using image filename instead of image data
- got rid of obsolete process_img_filen function & test
- checking extension against config.SOURCE_IMAGE_EXTENSIONS
- separated more generic SOURCE_EXTENSIONS from SOURCE_IMAGE_EXTENSIONS and updated callers
- added small png fixture and test
- added fixtures_for_tests image path constants

COMMIT: 5ebc29c
DATE:2025-02-09 10:54:07
MESSAGE:
Removed .env.testing with secrets

COMMIT: 2a3634b
DATE:2025-02-09 10:54:07
MESSAGE:
Removed .env.testing with secrets

COMMIT: 5ba3fa9
DATE:2025-02-09 10:43:50
MESSAGE:
Don't send API keys in .env.testing

COMMIT: ef9b52b
DATE:2025-02-09 10:43:50
MESSAGE:
Don't send API keys in .env.testing

COMMIT: 25a3267
DATE:2025-02-09 04:18:42
MESSAGE:
Fixed another import error

COMMIT: a65d6ba
DATE:2025-02-09 04:18:42
MESSAGE:
Fixed another import error

COMMIT: eb2a9f6
DATE:2025-02-09 04:14:38
MESSAGE:
Moved favicon() to views.py

COMMIT: 213fea3
DATE:2025-02-09 04:14:38
MESSAGE:
Moved favicon() to views.py

COMMIT: 6069c65
DATE:2025-02-09 04:14:18
MESSAGE:
Added API keys to .env.testing

COMMIT: 38d0680
DATE:2025-02-09 04:14:18
MESSAGE:
Added API keys to .env.testing

COMMIT: 534acdc
DATE:2025-02-09 04:08:29
MESSAGE:
Fixed test import errors

COMMIT: 9bd54a9
DATE:2025-02-09 04:08:29
MESSAGE:
Fixed test import errors

COMMIT: c0dc924
DATE:2025-02-09 03:57:42
MESSAGE:
Moved out mocks into tests/mocks
lots of tests failing, for all sorts of reasons

COMMIT: b2f6369
DATE:2025-02-09 03:57:42
MESSAGE:
Moved out mocks into tests/mocks
lots of tests failing, for all sorts of reasons

COMMIT: fda03e4
DATE:2025-02-09 03:15:01
MESSAGE:
Moved lots into utils/

COMMIT: d5aefc5
DATE:2025-02-09 03:15:01
MESSAGE:
Moved lots into utils/

COMMIT: f27ad9a
DATE:2025-02-09 03:07:28
MESSAGE:
Moved health-check etc out to system_views and utils

COMMIT: fa3de5f
DATE:2025-02-09 03:07:28
MESSAGE:
Moved health-check etc out to system_views and utils

COMMIT: eda0b4c
DATE:2025-02-09 02:53:38
MESSAGE:
Fixed language_name breadcrumb

COMMIT: 1132e67
DATE:2025-02-09 02:53:38
MESSAGE:
Fixed language_name breadcrumb

COMMIT: 53dda35
DATE:2025-02-09 02:51:57
MESSAGE:
Moved *_views.py into views/

COMMIT: 085596c
DATE:2025-02-09 02:51:57
MESSAGE:
Moved *_views.py into views/

COMMIT: fbb1b9d
DATE:2025-02-09 02:44:54
MESSAGE:
Removed secrets from fly.toml

COMMIT: 39485c6
DATE:2025-02-09 02:44:54
MESSAGE:
Removed secrets from fly.toml

COMMIT: 6baaa7c
DATE:2025-02-09 02:42:15
MESSAGE:
Fixed issue with comment

COMMIT: e74a0be
DATE:2025-02-09 02:42:15
MESSAGE:
Fixed issue with comment

COMMIT: d616030
DATE:2025-02-09 02:40:49
MESSAGE:
Oops, updated the obsolete set_secrets.sh - fixed

COMMIT: 75ae1d9
DATE:2025-02-09 02:40:49
MESSAGE:
Oops, updated the obsolete set_secrets.sh - fixed

COMMIT: ec1710f
DATE:2025-02-09 02:39:11
MESSAGE:
Don't reboot after setting each secret

COMMIT: 115f89e
DATE:2025-02-09 02:39:11
MESSAGE:
Don't reboot after setting each secret

COMMIT: 6107758
DATE:2025-02-09 02:35:49
MESSAGE:
Connect & backup by proxy worked!

COMMIT: a72754e
DATE:2025-02-09 02:35:49
MESSAGE:
Connect & backup by proxy worked!

COMMIT: 1fc4e14
DATE:2025-02-09 02:19:28
MESSAGE:
Moved out _secrets, nearly finished with env
still need to test deploy etc

COMMIT: 82f3cfc
DATE:2025-02-09 02:19:28
MESSAGE:
Moved out _secrets, nearly finished with env
still need to test deploy etc

COMMIT: 304d173
DATE:2025-02-09 02:08:40
MESSAGE:
Tests and local seem to be working, bash scripts updated
but I haven't tried deploying

COMMIT: 373d674
DATE:2025-02-09 02:08:40
MESSAGE:
Tests and local seem to be working, bash scripts updated
but I haven't tried deploying

COMMIT: c864576
DATE:2025-02-09 01:42:26
MESSAGE:
Slowly making progress getting tests to run

COMMIT: 056ef50
DATE:2025-02-09 01:42:26
MESSAGE:
Slowly making progress getting tests to run

COMMIT: 4aba5c3
DATE:2025-02-09 00:56:09
MESSAGE:
Using pytest-postgresql (UNTESTED)
also renamed test_db fixture -> fixture_for_testing_db

COMMIT: 8904b48
DATE:2025-02-09 00:56:09
MESSAGE:
Using pytest-postgresql (UNTESTED)
also renamed test_db fixture -> fixture_for_testing_db

COMMIT: 0c5e927
DATE:2025-02-09 00:32:23
MESSAGE:
Trying to simplify db_connection.py

COMMIT: 1891ace
DATE:2025-02-09 00:32:23
MESSAGE:
Trying to simplify db_connection.py

COMMIT: fd00f62
DATE:2025-02-09 00:23:19
MESSAGE:
Big tidy-up of env in config.py and app.py

COMMIT: cb71f68
DATE:2025-02-09 00:23:19
MESSAGE:
Big tidy-up of env in config.py and app.py

COMMIT: 5d5220b
DATE:2025-02-08 22:59:36
MESSAGE:
Setting Fly secrets

COMMIT: 12b93e6
DATE:2025-02-08 22:59:36
MESSAGE:
Setting Fly secrets

COMMIT: 4ab9e97
DATE:2025-02-08 22:22:50
MESSAGE:
Updated .env.testing

COMMIT: f0ae705
DATE:2025-02-08 22:22:50
MESSAGE:
Updated .env.testing

COMMIT: 1162709
DATE:2025-02-08 22:18:03
MESSAGE:
Updated conftest.py to use .env.testing

COMMIT: 65433c3
DATE:2025-02-08 22:18:03
MESSAGE:
Updated conftest.py to use .env.testing

COMMIT: ed9b632
DATE:2025-02-08 22:03:40
MESSAGE:
Updated to use env_config

COMMIT: e10ce43
DATE:2025-02-08 22:03:40
MESSAGE:
Updated to use env_config

COMMIT: cc9db31
DATE:2025-02-08 22:00:58
MESSAGE:
Store obsolete/ in Git, just in case

COMMIT: 86403c1
DATE:2025-02-08 22:00:58
MESSAGE:
Store obsolete/ in Git, just in case

COMMIT: 9b83384
DATE:2025-02-08 22:00:42
MESSAGE:
Moved out google_cloud_run_utils to obsolete/

COMMIT: 7a988cf
DATE:2025-02-08 22:00:42
MESSAGE:
Moved out google_cloud_run_utils to obsolete/

COMMIT: 785834a
DATE:2025-02-08 21:55:48
MESSAGE:
Reworked env_config.py a few times

COMMIT: 3d1cb51
DATE:2025-02-08 21:55:48
MESSAGE:
Reworked env_config.py a few times

COMMIT: eca92a7
DATE:2025-02-08 20:56:44
MESSAGE:
First stage of env planning and dotfile creation

COMMIT: 6679fa9
DATE:2025-02-08 20:56:44
MESSAGE:
First stage of env planning and dotfile creation

COMMIT: 3cb272b
DATE:2025-02-08 20:13:50
MESSAGE:
Moved from spideryarn/241103_vocab

COMMIT: 9ee7d82
DATE:2025-02-08 20:13:50
MESSAGE:
Moved from spideryarn/241103_vocab

COMMIT: 10dbed7
DATE:2025-02-08 19:53:20
MESSAGE:
Initial commit

COMMIT: 67afc7d
DATE:2025-02-08 19:53:20
MESSAGE:
Initial commit
